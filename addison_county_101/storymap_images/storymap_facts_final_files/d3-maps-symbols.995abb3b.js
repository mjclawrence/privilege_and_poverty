!function(){"use strict";var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),i.hasOwnProperty(n)?{space:i[n],local:t}:t}function u(t){var n=o(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r&&t.documentElement.namespaceURI===r?t.createElement(e):t.createElementNS(n,e)}})(n)}function n(){}function p(t){return null==t?n:function(){return this.querySelector(t)}}function e(){return[]}function m(t){return null==t?e:function(){return this.querySelectorAll(t)}}function f(t){return function(){return this.matches(t)}}function t(t){return new Array(t.length)}function d(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var g="$";function x(t,n,e,r,i,o){for(var a,u=0,c=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new d(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function M(t,n,e,r,i,o,a){var u,c,l,f={},s=n.length,h=o.length,p=new Array(s);for(u=0;u<s;++u)(c=n[u])&&(p[u]=l=g+a.call(c,c.__data__,u,n),l in f?i[u]=c:f[l]=c);for(u=0;u<h;++u)(c=f[l=g+a.call(t,o[u],u,o)])?((r[u]=c).__data__=o[u],f[l]=null):e[u]=new d(t,o[u]);for(u=0;u<s;++u)(c=n[u])&&f[p[u]]===c&&(i[u]=c)}function s(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}function a(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function w(t,n){return t.style.getPropertyValue(n)||a(t).getComputedStyle(t,null).getPropertyValue(n)}function c(t){return t.trim().split(/^|\s+/)}function l(t){return t.classList||new h(t)}function h(t){this._node=t,this._names=c(t.getAttribute("class")||"")}function v(t,n){for(var e=l(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function y(t,n){for(var e=l(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function b(){this.textContent=""}function E(){this.innerHTML=""}function k(){this.nextSibling&&this.parentNode.appendChild(this)}function S(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function N(){return null}function T(){var t=this.parentNode;t&&t.removeChild(this)}function C(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function A(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}h.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var z={},lt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(z={mouseenter:"mouseover",mouseleave:"mouseout"}));function F(e,t,n){return e=D(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function D(e,r,i){return function(t){var n=lt;lt=t;try{e.call(this,this.__data__,r,i)}finally{lt=n}}}function j(o){return function(){var t=this.__on;if(t){for(var n,e=0,r=-1,i=t.length;e<i;++e)n=t[e],o.type&&n.type!==o.type||n.name!==o.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function P(c,l,f){var s=z.hasOwnProperty(c.type)?F:D;return function(t,n,e){var r,i=this.__on,o=s(l,n,e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===c.type&&r.name===c.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=f),void(r.value=l);this.addEventListener(c.type,o,f),r={type:c.type,name:c.name,value:l,listener:o,capture:f},i?i.push(r):this.__on=[r]}}function L(t,n,e){var r=a(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var U=[null];function B(t,n){this._groups=t,this._parents=n}function Y(){return new B([[document.documentElement]],U)}function R(t){return"string"==typeof t?new B([[document.querySelector(t)]],[document.documentElement]):new B([[t]],U)}function O(){for(var t,n=lt;t=n.sourceEvent;)n=t;return n}function q(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function H(t){var n=O();return n.changedTouches&&(n=n.changedTouches[0]),q(t,n)}function I(t,n,e){arguments.length<3&&(e=n,n=O().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return q(t,r);return null}function Z(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}B.prototype=Y.prototype={constructor:B,select:function(t){"function"!=typeof t&&(t=p(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,l=r[i]=new Array(c),f=0;f<c;++f)(o=u[f])&&(a=t.call(o,o.__data__,f,u))&&("__data__"in o&&(a.__data__=o.__data__),l[f]=a);return new B(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=m(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new B(r,i)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new B(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),f=-1,this.each(function(t){d[++f]=t}),d;var e,r=n?M:x,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),c=new Array(a),l=new Array(a),f=0;f<a;++f){var s=i[f],h=o[f],p=h.length,d=t.call(s,s&&s.__data__,f,i),g=d.length,v=c[f]=new Array(g),m=u[f]=new Array(g);r(s,h,v,m,l[f]=new Array(p),d,n);for(var y,b,_=0,w=0;_<g;++_)if(y=v[_]){for(w<=_&&(w=_+1);!(b=m[w])&&++w<g;);y._next=b||null}}return(u=new B(u,i))._enter=c,u._exit=l,u},enter:function(){return new B(this._enter||this._groups.map(t),this._parents)},exit:function(){return new B(this._exit||this._groups.map(t),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=n[u],f=e[u],s=l.length,h=a[u]=new Array(s),p=0;p<s;++p)(c=l[p]||f[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new B(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=s);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,l=i[o]=new Array(c),f=0;f<c;++f)(a=u[f])&&(l[f]=a);l.sort(t)}return new B(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=o(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}:function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return 1<arguments.length?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(n,e,r){return function(){var t=e.apply(this,arguments);null==t?this.style.removeProperty(n):this.style.setProperty(n,t,r)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):w(this.node(),t)},property:function(t,n){return 1<arguments.length?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=c(t+"");if(arguments.length<2){for(var r=l(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?v:y)(this,t)}}:n?function(t){return function(){v(this,t)}}:function(t){return function(){y(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?b:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?E:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(k)},lower:function(){return this.each(S)},append:function(t){var n="function"==typeof t?t:u(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:u(t),r=null==n?N:"function"==typeof n?n:p(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(T)},clone:function(t){return this.select(t?A:C)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}),a=o.length;if(!(arguments.length<2)){for(u=n?P:j,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,l=0,f=u.length;l<f;++l)for(r=0,c=u[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return L(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return L(this,t,n)}})(t,n))}};var X,V,W=(1===(X=Z).length&&(V=X,X=function(t,n){return Z(V(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;X(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;0<X(t[i],n)?r=i:e=i+1}return e}}).right;function G(t){return null===t?NaN:+t}function Q(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var J=Math.sqrt(50),K=Math.sqrt(10),tt=Math.sqrt(2);function nt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(J<=o?10:K<=o?5:tt<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(J<=o?10:K<=o?5:tt<=o?2:1)}function et(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e<=e)for(r=e;++o<i;)null!=(e=t[o])&&r<e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e<=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r<e&&(r=e);return r}function rt(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);0<=--i;)for(n=(r=t[i]).length;0<=--n;)e[--a]=r[n];return e}var it="$";function ot(){}function at(t,n){var e=new ot;if(t instanceof ot)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function ut(){}ot.prototype=at.prototype={constructor:ot,has:function(t){return it+t in this},get:function(t){return this[it+t]},set:function(t,n){return this[it+t]=n,this},remove:function(t){var n=it+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===it&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===it&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===it&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===it&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===it&&++t;return t},empty:function(){for(var t in this)if(t[0]===it)return!1;return!0},each:function(t){for(var n in this)n[0]===it&&t(this[n],n.slice(1),this)}};var ct=at.prototype;function ft(t){var n=[];for(var e in t)n.push(e);return n}function st(t){var n=[];for(var e in t)n.push(t[e]);return n}ut.prototype=function(t,n){var e=new ut;if(t instanceof ut)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:ut,has:ct.has,add:function(t){return this[it+(t+="")]=t,this},remove:ct.remove,clear:ct.clear,values:ct.keys,size:ct.size,empty:ct.empty,each:ct.each};var ht=Array.prototype,pt=ht.map,dt=ht.slice,gt={name:"implicit"};function vt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function mt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function yt(){}var bt=1/.7,_t="\\s*([+-]?\\d+)\\s*",wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mt=/^#([0-9a-f]{3})$/,Et=/^#([0-9a-f]{6})$/,kt=new RegExp("^rgb\\("+[_t,_t,_t]+"\\)$"),St=new RegExp("^rgb\\("+[xt,xt,xt]+"\\)$"),Nt=new RegExp("^rgba\\("+[_t,_t,_t,wt]+"\\)$"),Tt=new RegExp("^rgba\\("+[xt,xt,xt,wt]+"\\)$"),Ct=new RegExp("^hsl\\("+[wt,xt,xt]+"\\)$"),At=new RegExp("^hsla\\("+[wt,xt,xt,wt]+"\\)$"),zt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ft(t){var n;return t=(t+"").trim().toLowerCase(),(n=Mt.exec(t))?new Ut((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Et.exec(t))?Dt(parseInt(n[1],16)):(n=kt.exec(t))?new Ut(n[1],n[2],n[3],1):(n=St.exec(t))?new Ut(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Nt.exec(t))?jt(n[1],n[2],n[3],n[4]):(n=Tt.exec(t))?jt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ct.exec(t))?Yt(n[1],n[2]/100,n[3]/100,1):(n=At.exec(t))?Yt(n[1],n[2]/100,n[3]/100,n[4]):zt.hasOwnProperty(t)?Dt(zt[t]):"transparent"===t?new Ut(NaN,NaN,NaN,0):null}function Dt(t){return new Ut(t>>16&255,t>>8&255,255&t,1)}function jt(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ut(t,n,e,r)}function Pt(t){return t instanceof yt||(t=Ft(t)),t?new Ut((t=t.rgb()).r,t.g,t.b,t.opacity):new Ut}function Lt(t,n,e,r){return 1===arguments.length?Pt(t):new Ut(t,n,e,null==r?1:r)}function Ut(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Bt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Yt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||1<=e?t=n=NaN:n<=0&&(t=NaN),new Rt(t,n,e,r)}function Rt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ot(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}vt(yt,Ft,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),vt(Ut,Lt,mt(yt,{brighter:function(t){return t=null==t?bt:Math.pow(bt,t),new Ut(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ut(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Bt(this.r)+Bt(this.g)+Bt(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),vt(Rt,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof yt||(t=Ft(t)),!t)return new Rt;if(t instanceof Rt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=0<c&&c<1?0:a,new Rt(a,u,c,t.opacity)}(t):new Rt(t,n,e,null==r?1:r)},mt(yt,{brighter:function(t){return t=null==t?bt:Math.pow(bt,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ut(Ot(240<=t?t-240:t+120,i,r),Ot(t,i,r),Ot(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var qt=Math.PI/180,Ht=180/Math.PI,$t=.96422,It=1,Zt=.82521,Xt=4/29,Vt=6/29,Wt=3*Vt*Vt,Gt=Vt*Vt*Vt;function Qt(t){if(t instanceof Kt)return new Kt(t.l,t.a,t.b,t.opacity);if(t instanceof an){if(isNaN(t.h))return new Kt(t.l,0,0,t.opacity);var n=t.h*qt;return new Kt(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Ut||(t=Pt(t));var e,r,i=rn(t.r),o=rn(t.g),a=rn(t.b),u=tn((.2225045*i+.7168786*o+.0606169*a)/It);return i===o&&o===a?e=r=u:(e=tn((.4360747*i+.3850649*o+.1430804*a)/$t),r=tn((.0139322*i+.0971045*o+.7141733*a)/Zt)),new Kt(116*u-16,500*(e-u),200*(u-r),t.opacity)}function Jt(t,n,e,r){return 1===arguments.length?Qt(t):new Kt(t,n,e,null==r?1:r)}function Kt(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function tn(t){return Gt<t?Math.pow(t,1/3):t/Wt+Xt}function nn(t){return Vt<t?t*t*t:Wt*(t-Xt)}function en(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function on(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof an)return new an(t.h,t.c,t.l,t.opacity);if(t instanceof Kt||(t=Qt(t)),0===t.a&&0===t.b)return new an(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Ht;return new an(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new an(t,n,e,null==r?1:r)}function an(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}vt(Kt,Jt,mt(yt,{brighter:function(t){return new Kt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Kt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Ut(en(3.1338561*(n=$t*nn(n))-1.6168667*(t=It*nn(t))-.4906146*(e=Zt*nn(e))),en(-.9787684*n+1.9161415*t+.033454*e),en(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),vt(an,on,mt(yt,{brighter:function(t){return new an(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new an(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Qt(this).rgb()}}));var un=1.78277,cn=-.29227,ln=-.90649,fn=1.97294,sn=fn*ln,hn=fn*un,pn=un*cn- -.14861*ln;function dn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof gn)return new gn(t.h,t.s,t.l,t.opacity);t instanceof Ut||(t=Pt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(pn*r+sn*n-hn*e)/(pn+sn-hn),o=r-i,a=(fn*(e-i)-cn*o)/ln,u=Math.sqrt(a*a+o*o)/(fn*i*(1-i)),c=u?Math.atan2(a,o)*Ht-120:NaN;return new gn(c<0?c+360:c,u,i,t.opacity)}(t):new gn(t,n,e,null==r?1:r)}function gn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function vn(t){return function(){return t}}function mn(n,e){return function(t){return n+t*e}}function yn(o){return 1==(o=+o)?bn:function(t,n){return n-t?(e=t,r=n,i=o,e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(t){return Math.pow(e+t*r,i)}):vn(isNaN(t)?n:t);var e,r,i}}function bn(t,n){var e=n-t;return e?mn(t,e):vn(isNaN(t)?n:t)}vt(gn,dn,mt(yt,{brighter:function(t){return t=null==t?bt:Math.pow(bt,t),new gn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new gn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*qt,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Ut(255*(n+e*(-.14861*r+un*i)),255*(n+e*(cn*r+ln*i)),255*(n+e*(fn*r)),this.opacity)}}));var _n=function t(n){var a=yn(n);function e(n,t){var e=a((n=Lt(n)).r,(t=Lt(t)).r),r=a(n.g,t.g),i=a(n.b,t.b),o=bn(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=r(t),n.b=i(t),n.opacity=o(t),n+""}}return e.gamma=t,e}(1);function wn(n,e){return e-=n=+n,function(t){return n+e*t}}var xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mn=new RegExp(xn.source,"g");function En(t,r){var n,e,i,o,a,u=xn.lastIndex=Mn.lastIndex=0,c=-1,l=[],f=[];for(t+="",r+="";(n=xn.exec(t))&&(e=Mn.exec(r));)(i=e.index)>u&&(i=r.slice(u,i),l[c]?l[c]+=i:l[++c]=i),(n=n[0])===(e=e[0])?l[c]?l[c]+=e:l[++c]=e:(l[++c]=null,f.push({i:c,x:wn(n,e)})),u=Mn.lastIndex;return u<r.length&&(i=r.slice(u),l[c]?l[c]+=i:l[++c]=i),l.length<2?f[0]?(a=f[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=f.length,function(t){for(var n,e=0;e<r;++e)l[(n=f[e]).i]=n.x(t);return l.join("")})}function kn(t,n){var e,r=typeof n;return null==n||"boolean"===r?vn(n):("number"===r?wn:"string"===r?(e=Ft(n))?(n=e,_n):En:n instanceof Ft?_n:n instanceof Date?function(n,e){var r=new Date;return e-=n=+n,function(t){return r.setTime(n+e*t),r}}:Array.isArray(n)?function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=kn(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=kn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}:wn)(t,n)}function Sn(n,e){return e-=n=+n,function(t){return Math.round(n+e*t)}}var Nn,Tn,Cn,An,zn=180/Math.PI,Fn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dn(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*zn,skewX:Math.atan(c)*zn,scaleX:a,scaleY:u}}function jn(h,p,d,g){function v(t){return t.length?t.pop()+" ":""}return function(t,n){var e,r,i,o,a,u,c,l,f=[],s=[];return t=h(t),n=h(n),function(t,n,e,r,i,o){if(t!==e||n!==r){var a=i.push("translate(",null,p,null,d);o.push({i:a-4,x:wn(t,e)},{i:a-2,x:wn(n,r)})}else(e||r)&&i.push("translate("+e+p+r+d)}(t.translateX,t.translateY,n.translateX,n.translateY,f,s),e=t.rotate,r=n.rotate,i=f,o=s,e!==r?(180<e-r?r+=360:180<r-e&&(e+=360),o.push({i:i.push(v(i)+"rotate(",null,g)-2,x:wn(e,r)})):r&&i.push(v(i)+"rotate("+r+g),a=t.skewX,u=n.skewX,c=f,l=s,a!==u?l.push({i:c.push(v(c)+"skewX(",null,g)-2,x:wn(a,u)}):u&&c.push(v(c)+"skewX("+u+g),function(t,n,e,r,i,o){if(t!==e||n!==r){var a=i.push(v(i)+"scale(",null,",",null,")");o.push({i:a-4,x:wn(t,e)},{i:a-2,x:wn(n,r)})}else 1===e&&1===r||i.push(v(i)+"scale("+e+","+r+")")}(t.scaleX,t.scaleY,n.scaleX,n.scaleY,f,s),t=n=null,function(t){for(var n,e=-1,r=s.length;++e<r;)f[(n=s[e]).i]=n.x(t);return f.join("")}}}var Pn=jn(function(t){return"none"===t?Fn:(Nn||(Nn=document.createElement("DIV"),Tn=document.documentElement,Cn=document.defaultView),Nn.style.transform=t,t=Cn.getComputedStyle(Tn.appendChild(Nn),null).getPropertyValue("transform"),Tn.removeChild(Nn),Dn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Ln=jn(function(t){return null==t?Fn:(An||(An=document.createElementNS("http://www.w3.org/2000/svg","g")),An.setAttribute("transform",t),(t=An.transform.baseVal.consolidate())?Dn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Fn)},", ",")",")"),Un=Math.SQRT2,Bn=2,Yn=4,Rn=1e-12;function On(t){return((t=Math.exp(t))+1/t)/2}function qn(t,n){var e,a,u=t[0],c=t[1],l=t[2],r=n[0],i=n[1],o=n[2],f=r-u,s=i-c,h=f*f+s*s;if(h<Rn)a=Math.log(o/l)/Un,e=function(t){return[u+t*f,c+t*s,l*Math.exp(Un*t*a)]};else{var p=Math.sqrt(h),d=(o*o-l*l+Yn*h)/(2*l*Bn*p),g=(o*o-l*l-Yn*h)/(2*o*Bn*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);a=(m-v)/Un,e=function(t){var n,e,r=t*a,i=On(v),o=l/(Bn*p)*(i*(e=Un*r+v,((e=Math.exp(2*e))-1)/(e+1))-(n=v,((n=Math.exp(n))-1/n)/2));return[u+o*f,c+o*s,l*i/On(Un*r+v)]}}return e.duration=1e3*a,e}function Hn(u){return function t(a){function n(n,t){var e=u((n=dn(n)).h,(t=dn(t)).h),r=bn(n.s,t.s),i=bn(n.l,t.l),o=bn(n.opacity,t.opacity);return function(t){return n.h=e(t),n.s=r(t),n.l=i(Math.pow(t,a)),n.opacity=o(t),n+""}}return a=+a,n.gamma=t,n}(1)}Hn(function(t,n){var e=n-t;return e?mn(t,180<e||e<-180?e-360*Math.round(e/360):e):vn(isNaN(t)?n:t)});var $n=Hn(bn);function In(t){return function(){return t}}function Zn(t){return+t}var Xn=[0,1];function Vn(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:In(e)}function Wn(t,n,e,r){var i=t[0],o=t[1],a=n[0],u=n[1];return a=o<i?(i=e(o,i),r(u,a)):(i=e(i,o),r(a,u)),function(t){return a(i(t))}}function Gn(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),u=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<i;)o[u]=n(e[u],e[u+1]),a[u]=r(t[u],t[u+1]);return function(t){var n=W(e,t,1,i)-1;return a[n](o[n](t))}}function Qn(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Jn(n,e){var r,o,a,u=Xn,c=Xn,l=kn,f=!1;function i(){return r=2<Math.min(u.length,c.length)?Gn:Wn,o=a=null,t}function t(t){return(o||(o=r(u,c,f?(i=n,function(n,e){var r=i(n=+n,e=+e);return function(t){return t<=n?0:e<=t?1:r(t)}}):n,l)))(+t);var i}return t.invert=function(t){return(a||(a=r(c,u,Vn,f?(i=e,function(n,e){var r=i(n=+n,e=+e);return function(t){return t<=0?n:1<=t?e:r(t)}}):e)))(+t);var i},t.domain=function(t){return arguments.length?(u=pt.call(t,Zn),i()):u.slice()},t.range=function(t){return arguments.length?(c=dt.call(t),i()):c.slice()},t.rangeRound=function(t){return c=dt.call(t),l=Sn,i()},t.clamp=function(t){return arguments.length?(f=!!t,i()):f},t.interpolate=function(t){return arguments.length?(l=t,i()):l},i()}function Kn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[1<r.length?r[0]+r.slice(2):r,+t.slice(e+1)]}function te(t){return(t=Kn(Math.abs(t)))?t[1]:NaN}var ne,ee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function re(t){return new ie(t)}function ie(t){if(!(n=ee.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function oe(t,n){var e=Kn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}re.prototype=ie.prototype,ie.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ae={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return oe(100*t,n)},r:oe,s:function(t,n){var e=Kn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(ne=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Kn(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ue(t){return t}var ce,le,fe,se=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function he(t){var n,u,c,x=t.grouping&&t.thousands?(u=t.grouping,c=t.thousands,function(t,n){for(var e=t.length,r=[],i=0,o=u[0],a=0;0<e&&0<o&&(n<a+o+1&&(o=Math.max(1,n-a)),r.push(t.substring(e-=o,e+o)),!((a+=o+1)>n));)o=u[i=(i+1)%u.length];return r.reverse().join(c)}):ue,r=t.currency,M=t.decimal,E=t.numerals?(n=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}):ue,i=t.percent||"%";function a(t){var l=(t=re(t)).fill,f=t.align,s=t.sign,n=t.symbol,h=t.zero,p=t.width,d=t.comma,g=t.precision,v=t.trim,m=t.type;"n"===m?(d=!0,m="g"):ae[m]||(null==g&&(g=12),v=!0,m="g"),(h||"0"===l&&"="===f)&&(h=!0,l="0",f="=");var y="$"===n?r[0]:"#"===n&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===n?r[1]:/[%p]/.test(m)?i:"",_=ae[m],w=/[defgprs%]/.test(m);function e(t){var n,e,r,i=y,o=b;if("c"===m)o=_(t)+o,t="";else{var a=(t=+t)<0;if(t=_(Math.abs(t),g),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(n+1):t}(t)),a&&0==+t&&(a=!1),i=(a?"("===s?s:"-":"-"===s||"("===s?"":s)+i,o=("s"===m?se[8+ne/3]:"")+o+(a&&"("===s?")":""),w)for(n=-1,e=t.length;++n<e;)if((r=t.charCodeAt(n))<48||57<r){o=(46===r?M+t.slice(n+1):t.slice(n))+o,t=t.slice(0,n);break}}d&&!h&&(t=x(t,1/0));var u=i.length+t.length+o.length,c=u<p?new Array(p-u+1).join(l):"";switch(d&&h&&(t=x(c+t,c.length?p-o.length:1/0),c=""),f){case"<":t=i+t+o+c;break;case"=":t=i+c+t+o;break;case"^":t=c.slice(0,u=c.length>>1)+i+t+o+c.slice(u);break;default:t=c+i+t+o}return E(t)}return g=null==g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),e.toString=function(){return t+""},e}return{format:a,formatPrefix:function(t,n){var e=a(((t=re(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(te(n)/3))),i=Math.pow(10,-r),o=se[8+r/3];return function(t){return e(i*t)+o}}}}function pe(t,n,e){var r,i,o,a,u,c,l,f,s,h,p,d,g=t[0],v=t[t.length-1],m=(i=g,o=v,a=null==n?10:n,u=Math.abs(o-i)/Math.max(0,a),c=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),J<=(l=u/c)?c*=10:K<=l?c*=5:tt<=l&&(c*=2),o<i?-c:c);switch((e=re(null==e?",f":e)).type){case"s":var y=Math.max(Math.abs(g),Math.abs(v));return null!=e.precision||isNaN((p=m,d=y,r=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(te(d)/3)))-te(Math.abs(p)))))||(e.precision=r),fe(e,y);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN((s=m,h=Math.max(Math.abs(g),Math.abs(v)),s=Math.abs(s),h=Math.abs(h)-s,r=Math.max(0,te(h)-te(s))+1))||(e.precision=r-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN((f=m,r=Math.max(0,-te(Math.abs(f)))))||(e.precision=r-2*("%"===e.type))}return le(e)}function de(u){var c=u.domain;return u.ticks=function(t){var n=c();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&0<e)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=nt(t,n,e))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(t,n){return pe(c(),t,n)},u.nice=function(t){null==t&&(t=10);var n,e=c(),r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=o,o=a,a=n,n=r,r=i,i=n),0<(n=nt(o,a,t))?n=nt(o=Math.floor(o/n)*n,a=Math.ceil(a/n)*n,t):n<0&&(n=nt(o=Math.ceil(o*n)/n,a=Math.floor(a*n)/n,t)),0<n?(e[r]=Math.floor(o/n)*n,e[i]=Math.ceil(a/n)*n,c(e)):n<0&&(e[r]=Math.ceil(o*n)/n,e[i]=Math.floor(a*n)/n,c(e)),u},u}function ge(){var t=Jn(Vn,wn);return t.copy=function(){return Qn(t,ge())},de(t)}function ve(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function me(){return function t(){var r=1,n=Jn(function(n,e){return(e=ve(e,r)-(n=ve(n,r)))?function(t){return(ve(t,r)-n)/e}:In(e)},function(n,e){return e=ve(e,r)-(n=ve(n,r)),function(t){return ve(n+e*t,1/r)}}),e=n.domain;return n.exponent=function(t){return arguments.length?(r=+t,e(e())):r},n.copy=function(){return Qn(n,t().exponent(r))},de(n)}().exponent(.5)}ce=he({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),le=ce.format,fe=ce.formatPrefix;var ye=new Date,be=new Date;function _e(o,a,e,r){function u(t){return o(t=new Date(+t)),t}return(u.floor=u).ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},u.round=function(t){var n=u(t),e=u.ceil(t);return t-n<e-t?n:e},u.offset=function(t,n){return a(t=new Date(+t),null==n?1:Math.floor(n)),t},u.range=function(t,n,e){var r,i=[];if(t=u.ceil(t),e=null==e?1:Math.floor(e),!(t<n&&0<e))return i;for(;i.push(r=new Date(+t)),a(t,e),o(t),r<t&&t<n;);return i},u.filter=function(e){return _e(function(t){if(t<=t)for(;o(t),!e(t);)t.setTime(t-1)},function(t,n){if(t<=t)if(n<0)for(;++n<=0;)for(;a(t,-1),!e(t););else for(;0<=--n;)for(;a(t,1),!e(t););})},e&&(u.count=function(t,n){return ye.setTime(+t),be.setTime(+n),o(ye),o(be),Math.floor(e(ye,be))},u.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?u.filter(r?function(t){return r(t)%n==0}:function(t){return u.count(0,t)%n==0}):u:null}),u}var we=_e(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});we.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?_e(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):we:null};var xe=6e4,Me=36e5,Ee=(_e(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),_e(function(t){t.setTime(Math.floor(t/xe)*xe)},function(t,n){t.setTime(+t+n*xe)},function(t,n){return(n-t)/xe},function(t){return t.getMinutes()}),_e(function(t){var n=t.getTimezoneOffset()*xe%Me;n<0&&(n+=Me),t.setTime(Math.floor((+t-n)/Me)*Me+n)},function(t,n){t.setTime(+t+n*Me)},function(t,n){return(n-t)/Me},function(t){return t.getHours()}),_e(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*xe)/864e5},function(t){return t.getDate()-1}));function ke(n){return _e(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*xe)/6048e5})}var Se=ke(0),Ne=ke(1),Te=(ke(2),ke(3),ke(4)),Ce=(ke(5),ke(6),_e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),_e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Ce.every=function(e){return isFinite(e=Math.floor(e))&&0<e?_e(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};_e(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*xe)},function(t,n){return(n-t)/xe},function(t){return t.getUTCMinutes()}),_e(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*Me)},function(t,n){return(n-t)/Me},function(t){return t.getUTCHours()});var Ae=_e(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1});function ze(n){return _e(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/6048e5})}var Fe=ze(0),De=ze(1),je=(ze(2),ze(3),ze(4)),Pe=(ze(5),ze(6),_e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),_e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function Le(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ue(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Be(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Pe.every=function(e){return isFinite(e=Math.floor(e))&&0<e?_e(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var Ye,Re,Oe,qe={"-":"",_:" ",0:"0"},He=/^\s*\d+/,$e=/^%/,Ie=/[\\^$*+?|[\]().{}]/g;function Ze(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Xe(t){return t.replace(Ie,"\\$&")}function Ve(t){return new RegExp("^(?:"+t.map(Xe).join("|")+")","i")}function We(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Ge(t,n,e){var r=He.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Qe(t,n,e){var r=He.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Je(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Ke(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function tr(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function nr(t,n,e){var r=He.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function er(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),e+r[0].length):-1}function rr(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function ir(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function or(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function ar(t,n,e){var r=He.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ur(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function cr(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function lr(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function fr(t,n,e){var r=He.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function sr(t,n,e){var r=He.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function hr(t,n,e){var r=$e.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function pr(t,n,e){var r=He.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function dr(t,n,e){var r=He.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function gr(t,n){return Ze(t.getDate(),n,2)}function vr(t,n){return Ze(t.getHours(),n,2)}function mr(t,n){return Ze(t.getHours()%12||12,n,2)}function yr(t,n){return Ze(1+Ee.count(Ce(t),t),n,3)}function br(t,n){return Ze(t.getMilliseconds(),n,3)}function _r(t,n){return br(t,n)+"000"}function wr(t,n){return Ze(t.getMonth()+1,n,2)}function xr(t,n){return Ze(t.getMinutes(),n,2)}function Mr(t,n){return Ze(t.getSeconds(),n,2)}function Er(t){var n=t.getDay();return 0===n?7:n}function kr(t,n){return Ze(Se.count(Ce(t),t),n,2)}function Sr(t,n){var e=t.getDay();return t=4<=e||0===e?Te(t):Te.ceil(t),Ze(Te.count(Ce(t),t)+(4===Ce(t).getDay()),n,2)}function Nr(t){return t.getDay()}function Tr(t,n){return Ze(Ne.count(Ce(t),t),n,2)}function Cr(t,n){return Ze(t.getFullYear()%100,n,2)}function Ar(t,n){return Ze(t.getFullYear()%1e4,n,4)}function zr(t){var n=t.getTimezoneOffset();return(0<n?"-":(n*=-1,"+"))+Ze(n/60|0,"0",2)+Ze(n%60,"0",2)}function Fr(t,n){return Ze(t.getUTCDate(),n,2)}function Dr(t,n){return Ze(t.getUTCHours(),n,2)}function jr(t,n){return Ze(t.getUTCHours()%12||12,n,2)}function Pr(t,n){return Ze(1+Ae.count(Pe(t),t),n,3)}function Lr(t,n){return Ze(t.getUTCMilliseconds(),n,3)}function Ur(t,n){return Lr(t,n)+"000"}function Br(t,n){return Ze(t.getUTCMonth()+1,n,2)}function Yr(t,n){return Ze(t.getUTCMinutes(),n,2)}function Rr(t,n){return Ze(t.getUTCSeconds(),n,2)}function Or(t){var n=t.getUTCDay();return 0===n?7:n}function qr(t,n){return Ze(Fe.count(Pe(t),t),n,2)}function Hr(t,n){var e=t.getUTCDay();return t=4<=e||0===e?je(t):je.ceil(t),Ze(je.count(Pe(t),t)+(4===Pe(t).getUTCDay()),n,2)}function $r(t){return t.getUTCDay()}function Ir(t,n){return Ze(De.count(Pe(t),t),n,2)}function Zr(t,n){return Ze(t.getUTCFullYear()%100,n,2)}function Xr(t,n){return Ze(t.getUTCFullYear()%1e4,n,4)}function Vr(){return"+0000"}function Wr(){return"%"}function Gr(t){return+t}function Qr(t){return Math.floor(+t/1e3)}Ye=function(t){var r=t.dateTime,i=t.date,o=t.time,n=t.periods,e=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,l=Ve(n),f=We(n),s=Ve(e),h=We(e),p=Ve(a),d=We(a),g=Ve(u),v=We(u),m=Ve(c),y=We(c),b={a:function(t){return a[t.getDay()]},A:function(t){return e[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:gr,e:gr,f:_r,H:vr,I:mr,j:yr,L:br,m:wr,M:xr,p:function(t){return n[+(12<=t.getHours())]},Q:Gr,s:Qr,S:Mr,u:Er,U:kr,V:Sr,w:Nr,W:Tr,x:null,X:null,y:Cr,Y:Ar,Z:zr,"%":Wr},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return e[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Fr,e:Fr,f:Ur,H:Dr,I:jr,j:Pr,L:Lr,m:Br,M:Yr,p:function(t){return n[+(12<=t.getUTCHours())]},Q:Gr,s:Qr,S:Rr,u:Or,U:qr,V:Hr,w:$r,W:Ir,x:null,X:null,y:Zr,Y:Xr,Z:Vr,"%":Wr},w={a:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=d[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=v[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return E(t,r,n,e)},d:or,e:or,f:sr,H:ur,I:ur,j:ar,L:fr,m:ir,M:cr,p:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.p=f[r[0].toLowerCase()],e+r[0].length):-1},Q:pr,s:dr,S:lr,u:Qe,U:Je,V:Ke,w:Ge,W:tr,x:function(t,n,e){return E(t,i,n,e)},X:function(t,n,e){return E(t,o,n,e)},y:er,Y:nr,Z:rr,"%":hr};function x(c,l){return function(t){var n,e,r,i=[],o=-1,a=0,u=c.length;for(t instanceof Date||(t=new Date(+t));++o<u;)37===c.charCodeAt(o)&&(i.push(c.slice(a,o)),null!=(e=qe[n=c.charAt(++o)])?n=c.charAt(++o):e="e"===n?" ":"0",(r=l[n])&&(n=r(t,e)),i.push(n),a=o+1);return i.push(c.slice(a,o)),i.join("")}}function M(i,o){return function(t){var n,e,r=Be(1900);if(E(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),r.d="Z"in r?(n=4<(e=(n=Ue(Be(r.y))).getUTCDay())||0===e?De.ceil(n):De(n),n=Ae.offset(n,7*(r.V-1)),r.y=n.getUTCFullYear(),r.m=n.getUTCMonth(),n.getUTCDate()+(r.w+6)%7):(n=4<(e=(n=o(Be(r.y))).getDay())||0===e?Ne.ceil(n):Ne(n),n=Ee.offset(n,7*(r.V-1)),r.y=n.getFullYear(),r.m=n.getMonth(),n.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),e="Z"in r?Ue(Be(r.y)).getUTCDay():o(Be(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(e+5)%7:r.w+7*r.U-(e+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Ue(r)):o(r)}}function E(t,n,e,r){for(var i,o,a=0,u=n.length,c=e.length;a<u;){if(c<=r)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=w[i in qe?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return b.x=x(i,b),b.X=x(o,b),b.c=x(r,b),_.x=x(i,_),_.X=x(o,_),_.c=x(r,_),{format:function(t){var n=x(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",Le);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t,Ue);return n.toString=function(){return t},n}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ye.format,Ye.parse,Re=Ye.utcFormat,Oe=Ye.utcParse;var Jr="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Re(Jr);+new Date("2000-01-01T00:00:00.000Z")||Oe(Jr);var Kr={value:function(){}};function ti(){for(var t,n=arguments,e=0,r=arguments.length,i={};e<r;++e){if(!(t=n[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new ni(i)}function ni(t){this._=t}function ei(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function ri(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Kr,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function ii(){lt.preventDefault(),lt.stopImmediatePropagation()}ni.prototype=ti.prototype={constructor:ni,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=ri(i[e],t.name,n);else if(null==n)for(e in i)i[e]=ri(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=ei(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new ni(t)},call:function(t,n){var e=arguments;if(0<(r=arguments.length-2))for(var r,i,o=new Array(r),a=0;a<r;++a)o[a]=e[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,r=(i=this._[t]).length;a<r;++a)i[a].value.apply(n,o)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var oi,ai,ui=0,ci=0,li=0,fi=1e3,si=0,hi=0,pi=0,di="object"==typeof performance&&performance.now?performance:Date,gi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function vi(){return hi||(gi(mi),hi=di.now()+pi)}function mi(){hi=0}function yi(){this._call=this._time=this._next=null}function bi(t,n,e){var r=new yi;return r.restart(t,n,e),r}function _i(){hi=(si=di.now())+pi,ui=ci=0;try{!function(){vi(),++ui;for(var t,n=oi;n;)0<=(t=hi-n._time)&&n._call.call(null,t),n=n._next;--ui}()}finally{ui=0,function(){var t,n,e=oi,r=1/0;for(;e;)e=e._call?(r>e._time&&(r=e._time),(t=e)._next):(n=e._next,e._next=null,t?t._next=n:oi=n);ai=t,xi(r)}(),hi=0}}function wi(){var t=di.now(),n=t-si;fi<n&&(pi-=n,si=t)}function xi(t){ui||(ci&&(ci=clearTimeout(ci)),24<t-hi?(t<1/0&&(ci=setTimeout(_i,t-di.now()-pi)),li&&(li=clearInterval(li))):(li||(si=di.now(),li=setInterval(wi,fi)),ui=1,gi(_i)))}function Mi(n,e,t){var r=new yi;return e=null==e?0:+e,r.restart(function(t){r.stop(),n(t+e)},e,t),r}yi.prototype=bi.prototype={constructor:yi,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?vi():+e)+(null==n?0:+n),this._next||ai===this||(ai?ai._next=this:oi=this,ai=this),this._call=t,this._time=e,xi()},stop:function(){this._call&&(this._call=null,this._time=1/0,xi())}};var Ei=ti("start","end","interrupt"),ki=[],Si=0,Ni=1,Ti=2,Ci=3,Ai=4,zi=5,Fi=6;function Di(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(o,a,u){var c,l=o.__transition;function f(t){var n,e,r,i;if(u.state!==Ni)return h();for(n in l)if((i=l[n]).name===u.name){if(i.state===Ci)return Mi(f);i.state===Ai?(i.state=Fi,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete l[n]):+n<a&&(i.state=Fi,i.timer.stop(),delete l[n])}if(Mi(function(){u.state===Ci&&(u.state=Ai,u.timer.restart(s,u.delay,u.time),s(t))}),u.state=Ti,u.on.call("start",o,o.__data__,u.index,u.group),u.state===Ti){for(u.state=Ci,c=new Array(r=u.tween.length),n=0,e=-1;n<r;++n)(i=u.tween[n].value.call(o,o.__data__,u.index,u.group))&&(c[++e]=i);c.length=e+1}}function s(t){for(var n=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=zi,1),e=-1,r=c.length;++e<r;)c[e].call(null,n);u.state===zi&&(u.on.call("end",o,o.__data__,u.index,u.group),h())}function h(){for(var t in u.state=Fi,u.timer.stop(),delete l[a],l)return;delete o.__transition}(l[a]=u).timer=bi(function(t){u.state=Ni,u.timer.restart(f,u.delay,u.time),u.delay<=t&&f(t-u.delay)},0,u.time)}(t,e,{name:n,index:r,group:i,on:Ei,tween:ki,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Si})}function ji(t,n){var e=Li(t,n);if(e.state>Si)throw new Error("too late; already scheduled");return e}function Pi(t,n){var e=Li(t,n);if(e.state>Ti)throw new Error("too late; already started");return e}function Li(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Ui(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>Ti&&e.state<zi,e.state=Fi,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Bi(t,n,e){var r=t._id;return t.each(function(){var t=Pi(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Li(t,r).value[n]}}function Yi(t,n){var e;return("number"==typeof n?wn:n instanceof Ft?_n:(e=Ft(n))?(n=e,_n):En)(t,n)}var Ri=Y.prototype.constructor;var Oi=0;function qi(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Hi(){return++Oi}var $i=Y.prototype;qi.prototype=function(t){return Y().transition(t)}.prototype={constructor:qi,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=p(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,l=r[a],f=l.length,s=o[a]=new Array(f),h=0;h<f;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),s[h]=c,Di(s[h],n,e,h,s,Li(u,e)));return new qi(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=m(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,l=r[u],f=l.length,s=0;s<f;++s)if(c=l[s]){for(var h,p=t.call(c,c.__data__,s,l),d=Li(c,e),g=0,v=p.length;g<v;++g)(h=p[g])&&Di(h,n,e,g,p,d);o.push(p),a.push(c)}return new qi(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new qi(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=n[u],f=e[u],s=l.length,h=a[u]=new Array(s),p=0;p<s;++p)(c=l[p]||f[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new qi(a,this._parents,this._name,this._id)},selection:function(){return new Ri(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Hi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)if(a=u[l]){var f=Li(a,n);Di(a,t,e,l,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new qi(r,this._parents,t,e)},call:$i.call,nodes:$i.nodes,node:$i.node,size:$i.size,empty:$i.empty,each:$i.each,on:function(t,n){var e,r,i,o,a,u,c=this._id;return arguments.length<2?Li(this.node(),c).on.on(t):this.each((e=c,i=n,u=((r=t)+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return 0<=n&&(t=t.slice(0,n)),!t||"start"===t})?ji:Pi,function(){var t=u(this,e),n=t.on;n!==o&&(a=(o=n).copy()).on(r,i),t.on=a}))},attr:function(t,n){var e=o(t),r="transform"===e?Ln:Yi;return this.attrTween(t,"function"==typeof n?(e.local?function(e,r,i){var o,a,u;return function(){var t,n=i(this);if(null!=n)return(t=this.getAttributeNS(e.space,e.local))===n?null:t===o&&n===a?u:u=r(o=t,a=n);this.removeAttributeNS(e.space,e.local)}}:function(e,r,i){var o,a,u;return function(){var t,n=i(this);if(null!=n)return(t=this.getAttribute(e))===n?null:t===o&&n===a?u:u=r(o=t,a=n);this.removeAttribute(e)}})(e,r,Bi(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(n,e,r){var i,o;return function(){var t=this.getAttributeNS(n.space,n.local);return t===r?null:t===i?o:o=e(i=t,r)}}:function(n,e,r){var i,o;return function(){var t=this.getAttribute(n);return t===r?null:t===i?o:o=e(i=t,r)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=o(t);return this.tween(e,(r.local?function(r,t){function n(){var n=this,e=t.apply(n,arguments);return e&&function(t){n.setAttributeNS(r.space,r.local,e(t))}}return n._value=t,n}:function(r,t){function n(){var n=this,e=t.apply(n,arguments);return e&&function(t){n.setAttribute(r,e(t))}}return n._value=t,n})(r,n))},style:function(t,n,e){var r,i,o,a,u,c,l,f,s,h,p,d,g,v,m,y,b,_="transform"==(t+="")?Pn:Yi;return null==n?this.styleTween(t,(g=t,v=_,function(){var t=w(this,g),n=(this.style.removeProperty(g),w(this,g));return t===n?null:t===m&&n===y?b:b=v(m=t,y=n)})).on("end.style."+t,(d=t,function(){this.style.removeProperty(d)})):this.styleTween(t,"function"==typeof n?(l=_,f=Bi(this,"style."+(c=t),n),function(){var t=w(this,c),n=f(this);return null==n&&(this.style.removeProperty(c),n=w(this,c)),t===n?null:t===s&&n===h?p:p=l(s=t,h=n)}):(r=t,i=_,o=n+"",function(){var t=w(this,r);return t===o?null:t===a?u:u=i(a=t,o)}),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(r,t,i){function n(){var n=this,e=t.apply(n,arguments);return e&&function(t){n.style.setProperty(r,e(t),i)}}return n._value=t,n}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?(e=Bi(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}));var n,e},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Li(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(i,o){var a,u;return function(){var t=Pi(this,i),n=t.tween;if(n!==a)for(var e=0,r=(u=a=n).length;e<r;++e)if(u[e].name===o){(u=u.slice()).splice(e,1);break}t.tween=u}}:function(o,a,u){var c,l;if("function"!=typeof u)throw new Error;return function(){var t=Pi(this,o),n=t.tween;if(n!==c){l=(c=n).slice();for(var e={name:a,value:u},r=0,i=l.length;r<i;++r)if(l[r].name===a){l[r]=e;break}r===i&&l.push(e)}t.tween=l}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){ji(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){ji(this,t).delay=n}})(n,t)):Li(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Pi(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Pi(this,t).duration=n}})(n,t)):Li(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Pi(this,t).ease=n}}(n,t)):Li(this.node(),n).ease}};Math.PI,Math.PI;var Ii={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Zi(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ii.time=vi(),Ii;return e}function Xi(t){return function(){return t}}function Vi(t,n,e){this.target=t,this.type=n,this.transform=e}function Wi(t,n,e){this.k=t,this.x=n,this.y=e}Y.prototype.interrupt=function(t){return this.each(function(){Ui(this,t)})},Y.prototype.transition=function(t){var n,e;t=t instanceof qi?(n=t._id,t._name):(n=Hi(),(e=Ii).time=vi(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)(a=u[l])&&Di(a,t,n,l,u,e||Zi(a,n));return new qi(r,this._parents,t,n)},Wi.prototype={constructor:Wi,scale:function(t){return 1===t?this:new Wi(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Wi(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gi=new Wi(1,0,0);function Qi(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Gi;return t.__zoom}function Ji(){lt.stopImmediatePropagation()}function Ki(){lt.preventDefault(),lt.stopImmediatePropagation()}function to(){return!lt.ctrlKey&&!lt.button}function no(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function eo(){return this.__zoom||Gi}function ro(){return-lt.deltaY*(1===lt.deltaMode?.05:lt.deltaMode?1:.002)}function io(){return navigator.maxTouchPoints||"ontouchstart"in this}function oo(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),o<a?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function ao(){var p,c,l=to,s=no,d=oo,i=ro,n=io,o=[0,1/0],g=[[-1/0,-1/0],[1/0,1/0]],a=250,h=qn,e=ti("start","zoom","end"),u=500,f=150,v=0;function m(t){t.property("__zoom",eo).on("wheel.zoom",M).on("mousedown.zoom",E).on("dblclick.zoom",k).filter(n).on("touchstart.zoom",S).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,n){return(n=Math.max(o[0],Math.min(o[1],n)))===t.k?t:new Wi(n,t.x,t.y)}function b(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Wi(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,l,f){t.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var t=this,n=arguments,r=x(t,n),e=s.apply(t,n),i=null==f?_(e):"function"==typeof f?f.apply(t,n):f,o=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),a=t.__zoom,u="function"==typeof l?l.apply(t,n):l,c=h(a.invert(i).concat(o/a.k),u.invert(i).concat(o/u.k));return function(t){if(1===t)t=u;else{var n=c(t),e=o/n[2];t=new Wi(e,i[0]-n[0]*e,i[1]-n[1]*e)}r.zoom(null,t)}})}function x(t,n,e){return!e&&t.__zooming||new r(t,n)}function r(t,n){this.that=t,this.args=n,this.active=0,this.extent=s.apply(t,n),this.taps=0}function M(){if(l.apply(this,arguments)){var t=x(this,arguments),n=this.__zoom,e=Math.max(o[0],Math.min(o[1],n.k*Math.pow(2,i.apply(this,arguments)))),r=H(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=n.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(n.k===e)return;t.mouse=[r,n.invert(r)],Ui(this),t.start()}Ki(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},f),t.zoom("mouse",d(b(y(n,e),t.mouse[0],t.mouse[1]),t.extent,g))}}function E(){if(!c&&l.apply(this,arguments)){var t,n,e,i=x(this,arguments,!0),o=R(lt.view).on("mousemove.zoom",function(){if(Ki(),!i.moved){var t=lt.clientX-a,n=lt.clientY-u;i.moved=v<t*t+n*n}i.zoom("mouse",d(b(i.that.__zoom,i.mouse[0]=H(i.that),i.mouse[1]),i.extent,g))},!0).on("mouseup.zoom",function(){o.on("mousemove.zoom mouseup.zoom",null),t=lt.view,n=i.moved,e=t.document.documentElement,r=R(t).on("dragstart.drag",null),n&&(r.on("click.drag",ii,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect),Ki(),i.end();var t,n,e,r},!0),r=H(this),a=lt.clientX,u=lt.clientY;t=lt.view,n=t.document.documentElement,e=R(t).on("dragstart.drag",ii,!0),"onselectstart"in n?e.on("selectstart.drag",ii,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none"),Ji(),i.mouse=[r,this.__zoom.invert(r)],Ui(this),i.start()}}function k(){if(l.apply(this,arguments)){var t=this.__zoom,n=H(this),e=t.invert(n),r=t.k*(lt.shiftKey?.5:2),i=d(b(y(t,r),n,e),s.apply(this,arguments),g);Ki(),0<a?R(this).transition().duration(a).call(w,i,n):R(this).call(m.transform,i)}}function S(){if(l.apply(this,arguments)){var t,n,e,r,i=lt.touches,o=i.length,a=x(this,arguments,lt.changedTouches.length===o);for(Ji(),n=0;n<o;++n)r=[r=I(this,i,(e=i[n]).identifier),this.__zoom.invert(r),e.identifier],a.touch0?a.touch1||a.touch0[2]===r[2]||(a.touch1=r,a.taps=0):(a.touch0=r,t=!0,a.taps=1+!!p);p&&(p=clearTimeout(p)),t&&(a.taps<2&&(p=setTimeout(function(){p=null},u)),Ui(this),a.start())}}function N(){if(this.__zooming){var t,n,e,r,i=x(this,arguments),o=lt.changedTouches,a=o.length;for(Ki(),p&&(p=clearTimeout(p)),t=i.taps=0;t<a;++t)e=I(this,o,(n=o[t]).identifier),i.touch0&&i.touch0[2]===n.identifier?i.touch0[0]=e:i.touch1&&i.touch1[2]===n.identifier&&(i.touch1[0]=e);if(n=i.that.__zoom,i.touch1){var u=i.touch0[0],c=i.touch0[1],l=i.touch1[0],f=i.touch1[1],s=(s=l[0]-u[0])*s+(s=l[1]-u[1])*s,h=(h=f[0]-c[0])*h+(h=f[1]-c[1])*h;n=y(n,Math.sqrt(s/h)),e=[(u[0]+l[0])/2,(u[1]+l[1])/2],r=[(c[0]+f[0])/2,(c[1]+f[1])/2]}else{if(!i.touch0)return;e=i.touch0[0],r=i.touch0[1]}i.zoom("touch",d(b(n,e,r),i.extent,g))}}function T(){if(this.__zooming){var t,n,e=x(this,arguments),r=lt.changedTouches,i=r.length;for(Ji(),c&&clearTimeout(c),c=setTimeout(function(){c=null},u),t=0;t<i;++t)n=r[t],e.touch0&&e.touch0[2]===n.identifier?delete e.touch0:e.touch1&&e.touch1[2]===n.identifier&&delete e.touch1;if(e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0)e.touch0[1]=this.__zoom.invert(e.touch0[0]);else if(e.end(),2===e.taps){var o=R(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return m.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",eo),t!==r?w(t,n,e):r.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},m.scaleBy=function(t,n,e){m.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)},e)},m.scaleTo=function(t,o,a){m.transform(t,function(){var t=s.apply(this,arguments),n=this.__zoom,e=null==a?_(t):"function"==typeof a?a.apply(this,arguments):a,r=n.invert(e),i="function"==typeof o?o.apply(this,arguments):o;return d(b(y(n,i),e,r),t,g)},a)},m.translateBy=function(t,n,e){m.transform(t,function(){return d(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),s.apply(this,arguments),g)})},m.translateTo=function(t,r,i,o){m.transform(t,function(){var t=s.apply(this,arguments),n=this.__zoom,e=null==o?_(t):"function"==typeof o?o.apply(this,arguments):o;return d(Gi.translate(e[0],e[1]).scale(n.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,g)},o)},r.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this).emit("start"),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,n,e,r){var i=lt;t.sourceEvent=lt,lt=t;try{n.apply(e,r)}finally{lt=i}}(new Vi(m,t,this.that.__zoom),e.apply,e,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:Xi(+t),m):i},m.filter=function(t){return arguments.length?(l="function"==typeof t?t:Xi(!!t),m):l},m.touchable=function(t){return arguments.length?(n="function"==typeof t?t:Xi(!!t),m):n},m.extent=function(t){return arguments.length?(s="function"==typeof t?t:Xi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):s},m.scaleExtent=function(t){return arguments.length?(o[0]=+t[0],o[1]=+t[1],m):[o[0],o[1]]},m.translateExtent=function(t){return arguments.length?(g[0][0]=+t[0][0],g[1][0]=+t[1][0],g[0][1]=+t[0][1],g[1][1]=+t[1][1],m):[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},m.constrain=function(t){return arguments.length?(d=t,m):d},m.duration=function(t){return arguments.length?(a=+t,m):a},m.interpolate=function(t){return arguments.length?(h=t,m):h},m.on=function(){var t=e.on.apply(e,arguments);return t===e?m:t},m.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,m):Math.sqrt(v)},m}function uo(r,i){var t=this.node();return t?t.getBBox?this.attr("transform",function(t,n){var e="function"==typeof r?r.call(this,t,n):r;return 0===i?e=[e,0]:1===i&&(e=[0,e]),"translate("+e[0]+","+e[1]+")"}):this.style("transform",function(t,n){var e="function"==typeof r?r.call(this,t,n):r;return 0===i?e=[e,0]:1===i&&(e=[0,e]),"translate("+e[0]+"px,"+e[1]+"px)"}):this}function co(t){if("string"!=typeof t)return t;var n,e={},r=t.split(/([\.#])/g);for(t=r.shift();n=r.shift();)"."==n?e.class=e.class?e.class+" "+r.shift():r.shift():"#"==n&&(e.id=r.shift());return{tag:t,attr:e}}function lo(t){var n,e;n="function"==typeof t?t:u((e=co(t)).tag);var r=this.select(function(){return this.appendChild(n.apply(this,arguments))});if(e)for(var i in e.attr)r.attr(i,e.attr[i]);return r}function fo(){return null}function so(t,e){return this.selectAll("tspan").data(function(n){return("function"==typeof t?t(n):t).map(function(t){return{line:t,parent:n}})}).enter().append("tspan").text(function(t){return t.line}).attr("x",0).attr("dy",function(t,n){return n?("function"==typeof e?e(t.parent,t.line,n):e)||15:0})}function ho(t,n){if("object"!=typeof t)return 1==arguments.length?this.attr(t):this.attr(t,n);for(var e in t)this.attr(e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[e]);return this}function po(){for(var r=arguments,t=0,n=r.length;t<n;)"string"!=typeof r[t]&&"number"!=typeof r[t]||(r[t]=function(n){return function(t){return t[n]}}(r[t])),t++;return function(t){for(var n=0,e=r.length;n++<e;)t=r[n-1].call(this,t);return t}}function go(t,n){if("object"!=typeof t)return 1==arguments.length?this.style(t):r(this,t,n);for(var e in t)r(this,e,t[e]);return this;function r(t,n,e){n=n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();var r;return~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width  margin-top margin-left margin-bottom margin-right font-size width height stroke-width line-height margin padding border border-radius max-width min-width".indexOf(n)?t.style(n,"function"==typeof e?(r=e,function(){var t=r.apply(this,arguments);return i(t)}):i(e)):t.style(n,e),t}function i(t){return t.match?t:t+"px"}}function vo(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}Qi.prototype=Wi.prototype,po.not=function(t){return!t},po.run=function(t){return t()},po.objToFn=function(n,e){return 1==arguments.length&&(e=void 0),function(t){return void 0!==n[t]?n[t]:e}},vo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),vo("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),vo("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),vo("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),$n(dn(300,.5,0),dn(-240,.5,1));$n(dn(-100,.75,.35),dn(80,1.5,.8)),$n(dn(260,.75,.35),dn(80,1.5,.8)),dn();function mo(n){var e=n.length;return function(t){return n[Math.max(0,Math.min(e-1,Math.floor(t*e)))]}}mo(vo("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));mo(vo("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),mo(vo("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),mo(vo("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var yo={},bo={};function _o(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function wo(o){var n=new RegExp('["'+o+"\n\r]"),s=o.charCodeAt(0);function e(r,t){var n,e=[],i=r.length,o=0,a=0,u=i<=0,c=!1;function l(){if(u)return bo;if(c)return c=!1,yo;var t,n,e=o;if(34===r.charCodeAt(e)){for(;o++<i&&34!==r.charCodeAt(o)||34===r.charCodeAt(++o););return(t=o)>=i?u=!0:10===(n=r.charCodeAt(o++))?c=!0:13===n&&(c=!0,10===r.charCodeAt(o)&&++o),r.slice(e+1,t-1).replace(/""/g,'"')}for(;o<i;){if(10===(n=r.charCodeAt(t=o++)))c=!0;else if(13===n)c=!0,10===r.charCodeAt(o)&&++o;else if(n!==s)continue;return r.slice(e,t)}return u=!0,r.slice(e,i)}for(10===r.charCodeAt(i-1)&&--i,13===r.charCodeAt(i-1)&&--i;(n=l())!==bo;){for(var f=[];n!==yo&&n!==bo;)f.push(n),n=l();t&&null==(f=t(f,a++))||e.push(f)}return e}function r(t){return t.map(a).join(o)}function a(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,o){var a,u,n=e(t,function(t,n){if(a)return a(t,n-1);var e,r,i;u=t,a=o?(r=o,i=_o(e=t),function(t,n){return r(i(t),n,e)}):_o(t)});return n.columns=u||[],n},parseRows:e,format:function(t,e){var n,r,i;return null==e&&(n=t,r=Object.create(null),i=[],n.forEach(function(t){for(var n in t)n in r||i.push(r[n]=n)}),e=i),[e.map(a).join(o)].concat(t.map(function(n){return e.map(function(t){return a(n[t])}).join(o)})).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}}wo(","),wo("\t");function xo(){return new Mo}function Mo(){this.reset()}Y.prototype.translate=uo,Y.prototype.append=lo,Y.prototype.insert=function(t,n){var e=co(t),r=u(e.tag),i=null==n?fo:"function"==typeof n?n:p(n),o=this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)});for(var a in e.attr)o.attr(a,e.attr[a]);return o},Y.prototype.parent=function(){var t=[];return this.filter(function(){return!(-1<t.indexOf(this.parentNode)||(t.push(this.parentNode),0))}).select(function(){return this.parentNode})},Y.prototype.selectAppend=function(t){var n,e=p(t),r=co(t);for(var i in t=u(r.tag),n=this.select(function(){return e.apply(this,arguments)||this.appendChild(t.apply(this,arguments))}),r.attr)n.attr(i,r.attr[i]);return n},Y.prototype.tspans=so,Y.prototype.appendMany=function(t,n){if("string"==typeof n){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var e=n;n=t,t=e}return this.selectAll(null).data(n).enter().append(t)},Y.prototype.at=ho,Y.prototype.st=go,Y.prototype.prop=Y.prototype.property,Mo.prototype={constructor:Mo,reset:function(){this.s=this.t=0},add:function(t){ko(Eo,t,this.t),ko(this,Eo.s,this.s),this.s?this.t+=Eo.t:this.s=Eo.t},valueOf:function(){return this.s}};var Eo=new Mo;function ko(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var So=1e-6,No=1e-12,To=Math.PI,Co=To/2,Ao=To/4,zo=2*To,Fo=180/To,Do=To/180,jo=Math.abs,Po=Math.atan,Lo=Math.atan2,Uo=Math.cos,Bo=Math.ceil,Yo=Math.exp,Ro=Math.log,Oo=Math.pow,qo=Math.sin,Ho=Math.sign||function(t){return 0<t?1:t<0?-1:0},$o=Math.sqrt,Io=Math.tan;function Zo(t){return 1<t?0:t<-1?To:Math.acos(t)}function Xo(t){return 1<t?Co:t<-1?-Co:Math.asin(t)}function Vo(t){return(t=qo(t/2))*t}function Wo(){}function Go(t,n){t&&Jo.hasOwnProperty(t.type)&&Jo[t.type](t,n)}var Qo={Feature:function(t,n){Go(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Go(e[r].geometry,n)}},Jo={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ko(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ko(e[r],n,0)},Polygon:function(t,n){ta(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ta(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Go(e[r],n)}};function Ko(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function ta(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Ko(t[e],n,1);n.polygonEnd()}function na(t,n){t&&Qo.hasOwnProperty(t.type)?Qo[t.type](t,n):Go(t,n)}var ea,ra,ia,oa,aa,ua=xo(),ca=xo(),la={point:Wo,lineStart:Wo,lineEnd:Wo,polygonStart:function(){ua.reset(),la.lineStart=fa,la.lineEnd=sa},polygonEnd:function(){var t=+ua;ca.add(t<0?zo+t:t),this.lineStart=this.lineEnd=this.point=Wo},sphere:function(){ca.add(zo)}};function fa(){la.point=ha}function sa(){pa(ea,ra)}function ha(t,n){la.point=pa,ea=t,ra=n,ia=t*=Do,oa=Uo(n=(n*=Do)/2+Ao),aa=qo(n)}function pa(t,n){var e=(t*=Do)-ia,r=0<=e?1:-1,i=r*e,o=Uo(n=(n*=Do)/2+Ao),a=qo(n),u=aa*a,c=oa*o+u*Uo(i),l=u*r*qo(i);ua.add(Lo(l,c)),ia=t,oa=o,aa=a}function da(t){return[Lo(t[1],t[0]),Xo(t[2])]}function ga(t){var n=t[0],e=t[1],r=Uo(e);return[r*Uo(n),r*qo(n),qo(e)]}function va(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ma(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function ya(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ba(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function _a(t){var n=$o(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var wa,xa,Ma,Ea,ka,Sa,Na,Ta,Ca,Aa,za,Fa,Da,ja,Pa,La,Ua,Ba,Ya,Ra,Oa,qa,Ha,$a,Ia,Za,Xa=xo(),Va={point:Wa,lineStart:Qa,lineEnd:Ja,polygonStart:function(){Va.point=Ka,Va.lineStart=tu,Va.lineEnd=nu,Xa.reset(),la.polygonStart()},polygonEnd:function(){la.polygonEnd(),Va.point=Wa,Va.lineStart=Qa,Va.lineEnd=Ja,ua<0?(wa=-(Ma=180),xa=-(Ea=90)):So<Xa?Ea=90:Xa<-So&&(xa=-90),Aa[0]=wa,Aa[1]=Ma}};function Wa(t,n){Ca.push(Aa=[wa=t,Ma=t]),n<xa&&(xa=n),Ea<n&&(Ea=n)}function Ga(t,n){var e=ga([t*Do,n*Do]);if(Ta){var r=ma(Ta,e),i=ma([r[1],-r[0],0],r);_a(i),i=da(i);var o,a=t-ka,u=0<a?1:-1,c=i[0]*Fo*u,l=180<jo(a);l^(u*ka<c&&c<u*t)?(o=i[1]*Fo,Ea<o&&(Ea=o)):l^(u*ka<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*Fo)<xa&&(xa=o):(n<xa&&(xa=n),Ea<n&&(Ea=n)),l?t<ka?eu(wa,t)>eu(wa,Ma)&&(Ma=t):eu(t,Ma)>eu(wa,Ma)&&(wa=t):wa<=Ma?(t<wa&&(wa=t),Ma<t&&(Ma=t)):ka<t?eu(wa,t)>eu(wa,Ma)&&(Ma=t):eu(t,Ma)>eu(wa,Ma)&&(wa=t)}else Ca.push(Aa=[wa=t,Ma=t]);n<xa&&(xa=n),Ea<n&&(Ea=n),Ta=e,ka=t}function Qa(){Va.point=Ga}function Ja(){Aa[0]=wa,Aa[1]=Ma,Va.point=Wa,Ta=null}function Ka(t,n){if(Ta){var e=t-ka;Xa.add(180<jo(e)?e+(0<e?360:-360):e)}else Sa=t,Na=n;la.point(t,n),Ga(t,n)}function tu(){la.lineStart()}function nu(){Ka(Sa,Na),la.lineEnd(),jo(Xa)>So&&(wa=-(Ma=180)),Aa[0]=wa,Aa[1]=Ma,Ta=null}function eu(t,n){return(n-=t)<0?n+360:n}function ru(t,n){return t[0]-n[0]}function iu(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var ou={sphere:Wo,point:au,lineStart:cu,lineEnd:su,polygonStart:function(){ou.lineStart=hu,ou.lineEnd=pu},polygonEnd:function(){ou.lineStart=cu,ou.lineEnd=su}};function au(t,n){t*=Do;var e=Uo(n*=Do);uu(e*Uo(t),e*qo(t),qo(n))}function uu(t,n,e){Da+=(t-Da)/++za,ja+=(n-ja)/za,Pa+=(e-Pa)/za}function cu(){ou.point=lu}function lu(t,n){t*=Do;var e=Uo(n*=Do);$a=e*Uo(t),Ia=e*qo(t),Za=qo(n),ou.point=fu,uu($a,Ia,Za)}function fu(t,n){t*=Do;var e=Uo(n*=Do),r=e*Uo(t),i=e*qo(t),o=qo(n),a=Lo($o((a=Ia*o-Za*i)*a+(a=Za*r-$a*o)*a+(a=$a*i-Ia*r)*a),$a*r+Ia*i+Za*o);Fa+=a,La+=a*($a+($a=r)),Ua+=a*(Ia+(Ia=i)),Ba+=a*(Za+(Za=o)),uu($a,Ia,Za)}function su(){ou.point=au}function hu(){ou.point=du}function pu(){gu(qa,Ha),ou.point=au}function du(t,n){qa=t,Ha=n,t*=Do,n*=Do,ou.point=gu;var e=Uo(n);$a=e*Uo(t),Ia=e*qo(t),Za=qo(n),uu($a,Ia,Za)}function gu(t,n){t*=Do;var e=Uo(n*=Do),r=e*Uo(t),i=e*qo(t),o=qo(n),a=Ia*o-Za*i,u=Za*r-$a*o,c=$a*i-Ia*r,l=$o(a*a+u*u+c*c),f=Xo(l),s=l&&-f/l;Ya+=s*a,Ra+=s*u,Oa+=s*c,Fa+=f,La+=f*($a+($a=r)),Ua+=f*(Ia+(Ia=i)),Ba+=f*(Za+(Za=o)),uu($a,Ia,Za)}function vu(t){za=Fa=Da=ja=Pa=La=Ua=Ba=Ya=Ra=Oa=0,na(t,ou);var n=Ya,e=Ra,r=Oa,i=n*n+e*e+r*r;return i<No&&(n=La,e=Ua,r=Ba,Fa<So&&(n=Da,e=ja,r=Pa),(i=n*n+e*e+r*r)<No)?[NaN,NaN]:[Lo(e,n)*Fo,Xo(r/$o(i))*Fo]}function mu(t){return function(){return t}}function yu(e,r){function t(t,n){return t=e(t,n),r(t[0],t[1])}return e.invert&&r.invert&&(t.invert=function(t,n){return(t=r.invert(t,n))&&e.invert(t[0],t[1])}),t}function bu(t,n){return[To<t?t-zo:t<-To?t+zo:t,n]}function _u(t,n,e){return(t%=zo)?n||e?yu(xu(t),Mu(n,e)):xu(t):n||e?Mu(n,e):bu}function wu(e){return function(t,n){return[To<(t+=e)?t-zo:t<-To?t+zo:t,n]}}function xu(t){var n=wu(t);return n.invert=wu(-t),n}function Mu(t,n){var u=Uo(t),c=qo(t),l=Uo(n),f=qo(n);function e(t,n){var e=Uo(n),r=Uo(t)*e,i=qo(t)*e,o=qo(n),a=o*u+r*c;return[Lo(i*l-a*f,r*u-o*c),Xo(a*l+i*f)]}return e.invert=function(t,n){var e=Uo(n),r=Uo(t)*e,i=qo(t)*e,o=qo(n),a=o*l-i*f;return[Lo(i*l+o*f,r*u+a*c),Xo(a*u-r*c)]},e}function Eu(n){function t(t){return(t=n(t[0]*Do,t[1]*Do))[0]*=Fo,t[1]*=Fo,t}return n=_u(n[0]*Do,n[1]*Do,2<n.length?n[2]*Do:0),t.invert=function(t){return(t=n.invert(t[0]*Do,t[1]*Do))[0]*=Fo,t[1]*=Fo,t},t}function ku(t,n,e,r,i,o){if(e){var a=Uo(n),u=qo(n),c=r*e;null==i?(i=n+r*zo,o=n-c/2):(i=Su(a,i),o=Su(a,o),(0<r?i<o:o<i)&&(i+=r*zo));for(var l,f=i;0<r?o<f:f<o;f-=c)l=da([a,-u*Uo(f),-u*qo(f)]),t.point(l[0],l[1])}}function Su(t,n){(n=ga(n))[0]-=t,_a(n);var e=Zo(-n[1]);return((-n[2]<0?-e:e)+zo-So)%zo}function Nu(){var e,n=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){n.push(e=[])},lineEnd:Wo,rejoin:function(){1<n.length&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function Tu(t,n){return jo(t[0]-n[0])<So&&jo(t[1]-n[1])<So}function Cu(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Au(t,n,e,r,o){var a,i,u=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],i=t[n];if(Tu(r,i)){for(o.lineStart(),a=0;a<n;++a)o.point((r=t[a])[0],r[1]);o.lineEnd()}else u.push(e=new Cu(r,t,null,!0)),c.push(e.o=new Cu(r,null,e,!1)),u.push(e=new Cu(i,t,null,!1)),c.push(e.o=new Cu(i,null,e,!0))}}),u.length){for(c.sort(n),zu(u),zu(c),a=0,i=c.length;a<i;++a)c[a].e=e=!e;for(var l,f,s=u[0];;){for(var h=s,p=!0;h.v;)if((h=h.n)===s)return;l=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,i=l.length;a<i;++a)o.point((f=l[a])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(l=h.p.z,a=l.length-1;0<=a;--a)o.point((f=l[a])[0],f[1]);else r(h.x,h.p.x,-1,o);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function zu(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}bu.invert=bu;var Fu=xo();function Du(t,n){var e=n[0],r=n[1],i=qo(r),o=[qo(e),-Uo(e),0],a=0,u=0;Fu.reset(),1===i?r=Co+So:-1===i&&(r=-Co-So);for(var c=0,l=t.length;c<l;++c)if(s=(f=t[c]).length)for(var f,s,h=f[s-1],p=h[0],d=h[1]/2+Ao,g=qo(d),v=Uo(d),m=0;m<s;++m,p=b,g=w,v=x,h=y){var y=f[m],b=y[0],_=y[1]/2+Ao,w=qo(_),x=Uo(_),M=b-p,E=0<=M?1:-1,k=E*M,S=To<k,N=g*w;if(Fu.add(Lo(N*E*qo(k),v*x+N*Uo(k))),a+=S?M+E*zo:M,S^e<=p^e<=b){var T=ma(ga(h),ga(y));_a(T);var C=ma(o,T);_a(C);var A=(S^0<=M?-1:1)*Xo(C[2]);(A<r||r===A&&(T[0]||T[1]))&&(u+=S^0<=M?1:-1)}}return(a<-So||a<So&&Fu<-So)^1&u}function ju(v,m,y,b){return function(u){var c,l,f,e=m(u),s=Nu(),h=m(s),p=!1,n={point:r,lineStart:i,lineEnd:o,polygonStart:function(){n.point=d,n.lineStart=a,n.lineEnd=g,l=[],c=[]},polygonEnd:function(){n.point=r,n.lineStart=i,n.lineEnd=o,l=rt(l);var t=Du(c,b);l.length?(p||(u.polygonStart(),p=!0),Au(l,Lu,t,y,u)):t&&(p||(u.polygonStart(),p=!0),u.lineStart(),y(null,null,1,u),u.lineEnd()),p&&(u.polygonEnd(),p=!1),l=c=null},sphere:function(){u.polygonStart(),u.lineStart(),y(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function r(t,n){v(t,n)&&u.point(t,n)}function t(t,n){e.point(t,n)}function i(){n.point=t,e.lineStart()}function o(){n.point=r,e.lineEnd()}function d(t,n){f.push([t,n]),h.point(t,n)}function a(){h.lineStart(),f=[]}function g(){d(f[0][0],f[0][1]),h.lineEnd();var t,n,e,r,i=h.clean(),o=s.result(),a=o.length;if(f.pop(),c.push(f),f=null,a)if(1&i){if(0<(n=(e=o[0]).length-1)){for(p||(u.polygonStart(),p=!0),u.lineStart(),t=0;t<n;++t)u.point((r=e[t])[0],r[1]);u.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),l.push(o.filter(Pu))}return n}}function Pu(t){return 1<t.length}function Lu(t,n){return((t=t.x)[0]<0?t[1]-Co-So:Co-t[1])-((n=n.x)[0]<0?n[1]-Co-So:Co-n[1])}var Uu=ju(function(){return!0},function(s){var h,p=NaN,d=NaN,g=NaN;return{lineStart:function(){s.lineStart(),h=1},point:function(t,n){var e,r,i,o,a,u,c,l=0<t?To:-To,f=jo(t-p);jo(f-To)<So?(s.point(p,d=0<(d+n)/2?Co:-Co),s.point(g,d),s.lineEnd(),s.lineStart(),s.point(l,d),s.point(t,d),h=0):g!==l&&To<=f&&(jo(p-g)<So&&(p-=g*So),jo(t-l)<So&&(t-=l*So),r=d,o=n,c=qo((e=p)-(i=t)),d=jo(c)>So?Po((qo(r)*(u=Uo(o))*qo(i)-qo(o)*(a=Uo(r))*qo(e))/(a*u*c)):(r+o)/2,s.point(g,d),s.lineEnd(),s.lineStart(),s.point(l,d),h=0),s.point(p=t,d=n),g=l},lineEnd:function(){s.lineEnd(),p=d=NaN},clean:function(){return 2-h}}},function(t,n,e,r){var i;if(null==t)i=e*Co,r.point(-To,i),r.point(0,i),r.point(To,i),r.point(To,0),r.point(To,-i),r.point(0,-i),r.point(-To,-i),r.point(-To,0),r.point(-To,i);else if(jo(t[0]-n[0])>So){var o=t[0]<n[0]?To:-To;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-To,-Co]);function Bu(i){var S=Uo(i),o=6*Do,p=0<S,d=jo(S)>So;function g(t,n){return Uo(t)*Uo(n)>S}function v(t,n,e){var r=[1,0,0],i=ma(ga(t),ga(n)),o=va(i,i),a=i[0],u=o-a*a;if(!u)return!e&&t;var c=S*o/u,l=-S*a/u,f=ma(r,i),s=ba(r,c);ya(s,ba(i,l));var h=f,p=va(s,h),d=va(h,h),g=p*p-d*(va(s,s)-1);if(!(g<0)){var v=$o(g),m=ba(h,(-p-v)/d);if(ya(m,s),m=da(m),!e)return m;var y,b=t[0],_=n[0],w=t[1],x=n[1];_<b&&(y=b,b=_,_=y);var M=_-b,E=jo(M-To)<So;if(!E&&x<w&&(y=w,w=x,x=y),E||M<So?E?0<w+x^m[1]<(jo(m[0]-b)<So?w:x):w<=m[1]&&m[1]<=x:To<M^(b<=m[0]&&m[0]<=_)){var k=ba(h,(-p+v)/d);return ya(k,s),[m,da(k)]}}}function m(t,n){var e=p?i:To-i,r=0;return t<-e?r|=1:e<t&&(r|=2),n<-e?r|=4:e<n&&(r|=8),r}return ju(g,function(u){var c,l,f,s,h;return{lineStart:function(){s=f=!1,h=1},point:function(t,n){var e,r=[t,n],i=g(t,n),o=p?i?0:m(t,n):i?m(t+(t<0?To:-To),n):0;if(!c&&(s=f=i)&&u.lineStart(),i!==f&&(!(e=v(c,r))||Tu(c,e)||Tu(r,e))&&(r[0]+=So,r[1]+=So,i=g(r[0],r[1])),i!==f)h=0,i?(u.lineStart(),e=v(r,c),u.point(e[0],e[1])):(e=v(c,r),u.point(e[0],e[1]),u.lineEnd()),c=e;else if(d&&c&&p^i){var a;o&l||!(a=v(r,c,!0))||(h=0,p?(u.lineStart(),u.point(a[0][0],a[0][1]),u.point(a[1][0],a[1][1]),u.lineEnd()):(u.point(a[1][0],a[1][1]),u.lineEnd(),u.lineStart(),u.point(a[0][0],a[0][1])))}!i||c&&Tu(c,r)||u.point(r[0],r[1]),c=r,f=i,l=o},lineEnd:function(){f&&u.lineEnd(),c=null},clean:function(){return h|(s&&f)<<1}}},function(t,n,e,r){ku(r,i,o,e,t,n)},p?[0,-i]:[-To,i-To])}var Yu=1e9,Ru=-Yu;function Ou(m,y,b,_){function w(t,n){return m<=t&&t<=b&&y<=n&&n<=_}function x(t,n,e,r){var i=0,o=0;if(null==t||(i=a(t,e))!==(o=a(n,e))||u(t,n)<0^0<e)for(;r.point(0===i||3===i?m:b,1<i?_:y),(i=(i+e+4)%4)!==o;);else r.point(n[0],n[1])}function a(t,n){return jo(t[0]-m)<So?0<n?0:3:jo(t[0]-b)<So?0<n?2:1:jo(t[1]-y)<So?0<n?1:0:0<n?3:2}function M(t,n){return u(t.x,n.x)}function u(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(r){var i,s,o,a,u,c,l,f,h,p,d,g=r,t=Nu(),n={point:e,lineStart:function(){n.point=v,s&&s.push(o=[]);p=!0,h=!1,l=f=NaN},lineEnd:function(){i&&(v(a,u),c&&h&&t.rejoin(),i.push(t.result()));n.point=e,h&&g.lineEnd()},polygonStart:function(){g=t,i=[],s=[],d=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,e=s.length;n<e;++n)for(var r,i,o=s[n],a=1,u=o.length,c=o[0],l=c[0],f=c[1];a<u;++a)r=l,i=f,c=o[a],l=c[0],f=c[1],i<=_?_<f&&(f-i)*(m-r)<(l-r)*(_-i)&&++t:f<=_&&(l-r)*(_-i)<(f-i)*(m-r)&&--t;return t}(),n=d&&t,e=(i=rt(i)).length;(n||e)&&(r.polygonStart(),n&&(r.lineStart(),x(null,null,1,r),r.lineEnd()),e&&Au(i,M,t,x,r),r.polygonEnd());g=r,i=s=o=null}};function e(t,n){w(t,n)&&g.point(t,n)}function v(t,n){var e=w(t,n);if(s&&o.push([t,n]),p)a=t,u=n,p=!1,(c=e)&&(g.lineStart(),g.point(t,n));else if(e&&h)g.point(t,n);else{var r=[l=Math.max(Ru,Math.min(Yu,l)),f=Math.max(Ru,Math.min(Yu,f))],i=[t=Math.max(Ru,Math.min(Yu,t)),n=Math.max(Ru,Math.min(Yu,n))];!function(t,n,e,r,i,o){var a,u=t[0],c=t[1],l=0,f=1,s=n[0]-u,h=n[1]-c;if(a=e-u,s||!(0<a)){if(a/=s,s<0){if(a<l)return;a<f&&(f=a)}else if(0<s){if(f<a)return;l<a&&(l=a)}if(a=i-u,s||!(a<0)){if(a/=s,s<0){if(f<a)return;l<a&&(l=a)}else if(0<s){if(a<l)return;a<f&&(f=a)}if(a=r-c,h||!(0<a)){if(a/=h,h<0){if(a<l)return;a<f&&(f=a)}else if(0<h){if(f<a)return;l<a&&(l=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(f<a)return;l<a&&(l=a)}else if(0<h){if(a<l)return;a<f&&(f=a)}return 0<l&&(t[0]=u+l*s,t[1]=c+l*h),f<1&&(n[0]=u+f*s,n[1]=c+f*h),!0}}}}}(r,i,m,y,b,_)?e&&(g.lineStart(),g.point(t,n),d=!1):(h||(g.lineStart(),g.point(r[0],r[1])),g.point(i[0],i[1]),e||g.lineEnd(),d=!1)}l=t,f=n,h=e}return n}}var qu,Hu,$u,Iu=xo(),Zu={sphere:Wo,point:Wo,lineStart:function(){Zu.point=Vu,Zu.lineEnd=Xu},lineEnd:Wo,polygonStart:Wo,polygonEnd:Wo};function Xu(){Zu.point=Zu.lineEnd=Wo}function Vu(t,n){qu=t*=Do,Hu=qo(n*=Do),$u=Uo(n),Zu.point=Wu}function Wu(t,n){t*=Do;var e=qo(n*=Do),r=Uo(n),i=jo(t-qu),o=Uo(i),a=r*qo(i),u=$u*e-Hu*r*o,c=Hu*e+$u*r*o;Iu.add(Lo($o(a*a+u*u),c)),qu=t,Hu=e,$u=r}function Gu(t){return Iu.reset(),na(t,Zu),+Iu}var Qu=[null,null],Ju={type:"LineString",coordinates:Qu};function Ku(t,n){return Qu[0]=t,Qu[1]=n,Gu(Ju)}var tc={Feature:function(t,n){return ec(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(ec(e[r].geometry,n))return!0;return!1}},nc={Sphere:function(){return!0},Point:function(t,n){return rc(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(rc(e[r],n))return!0;return!1},LineString:function(t,n){return ic(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ic(e[r],n))return!0;return!1},Polygon:function(t,n){return oc(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(oc(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(ec(e[r],n))return!0;return!1}};function ec(t,n){return!(!t||!nc.hasOwnProperty(t.type))&&nc[t.type](t,n)}function rc(t,n){return 0===Ku(t,n)}function ic(t,n){var e=Ku(t[0],t[1]);return Ku(t[0],n)+Ku(n,t[1])<=e+So}function oc(t,n){return!!Du(t.map(ac),uc(n))}function ac(t){return(t=t.map(uc)).pop(),t}function uc(t){return[t[0]*Do,t[1]*Do]}function cc(t,n,e){var r=Q(t,n-So,e).concat(n);return function(n){return r.map(function(t){return[n,t]})}}function lc(t,n,e){var r=Q(t,n-So,e).concat(n);return function(n){return r.map(function(t){return[t,n]})}}function fc(){var n,e,r,i,o,a,u,c,l,f,s,h,p=10,d=p,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return Q(Bo(i/g)*g,r,g).map(s).concat(Q(Bo(c/v)*v,u,v).map(h)).concat(Q(Bo(e/p)*p,n,p).filter(function(t){return jo(t%g)>So}).map(l)).concat(Q(Bo(a/d)*d,o,d).filter(function(t){return jo(t%v)>So}).map(f))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[s(i).concat(h(u).slice(1),s(r).reverse().slice(1),h(c).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],c=+t[0][1],u=+t[1][1],r<i&&(t=i,i=r,r=t),u<c&&(t=c,c=u,u=t),y.precision(m)):[[i,c],[r,u]]},y.extentMinor=function(t){return arguments.length?(e=+t[0][0],n=+t[1][0],a=+t[0][1],o=+t[1][1],n<e&&(t=e,e=n,n=t),o<a&&(t=a,a=o,o=t),y.precision(m)):[[e,a],[n,o]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],y):[g,v]},y.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(t){return arguments.length?(m=+t,l=cc(a,o,90),f=lc(e,n,m),s=cc(c,u,90),h=lc(i,r,m),y):m},y.extentMajor([[-180,-90+So],[180,90-So]]).extentMinor([[-180,-80-So],[180,80+So]])}function sc(t){return t}var hc,pc,dc,gc,vc=xo(),mc=xo(),yc={point:Wo,lineStart:Wo,lineEnd:Wo,polygonStart:function(){yc.lineStart=bc,yc.lineEnd=xc},polygonEnd:function(){yc.lineStart=yc.lineEnd=yc.point=Wo,vc.add(jo(mc)),mc.reset()},result:function(){var t=vc/2;return vc.reset(),t}};function bc(){yc.point=_c}function _c(t,n){yc.point=wc,hc=dc=t,pc=gc=n}function wc(t,n){mc.add(gc*t-dc*n),dc=t,gc=n}function xc(){wc(hc,pc)}var Mc=1/0,Ec=Mc,kc=-Mc,Sc=kc,Nc={point:function(t,n){t<Mc&&(Mc=t);kc<t&&(kc=t);n<Ec&&(Ec=n);Sc<n&&(Sc=n)},lineStart:Wo,lineEnd:Wo,polygonStart:Wo,polygonEnd:Wo,result:function(){var t=[[Mc,Ec],[kc,Sc]];return kc=Sc=-(Ec=Mc=1/0),t}};var Tc,Cc,Ac,zc,Fc=0,Dc=0,jc=0,Pc=0,Lc=0,Uc=0,Bc=0,Yc=0,Rc=0,Oc={point:qc,lineStart:Hc,lineEnd:Zc,polygonStart:function(){Oc.lineStart=Xc,Oc.lineEnd=Vc},polygonEnd:function(){Oc.point=qc,Oc.lineStart=Hc,Oc.lineEnd=Zc},result:function(){var t=Rc?[Bc/Rc,Yc/Rc]:Uc?[Pc/Uc,Lc/Uc]:jc?[Fc/jc,Dc/jc]:[NaN,NaN];return Fc=Dc=jc=Pc=Lc=Uc=Bc=Yc=Rc=0,t}};function qc(t,n){Fc+=t,Dc+=n,++jc}function Hc(){Oc.point=$c}function $c(t,n){Oc.point=Ic,qc(Ac=t,zc=n)}function Ic(t,n){var e=t-Ac,r=n-zc,i=$o(e*e+r*r);Pc+=i*(Ac+t)/2,Lc+=i*(zc+n)/2,Uc+=i,qc(Ac=t,zc=n)}function Zc(){Oc.point=qc}function Xc(){Oc.point=Wc}function Vc(){Gc(Tc,Cc)}function Wc(t,n){Oc.point=Gc,qc(Tc=Ac=t,Cc=zc=n)}function Gc(t,n){var e=t-Ac,r=n-zc,i=$o(e*e+r*r);Pc+=i*(Ac+t)/2,Lc+=i*(zc+n)/2,Uc+=i,Bc+=(i=zc*t-Ac*n)*(Ac+t),Yc+=i*(zc+n),Rc+=3*i,qc(Ac=t,zc=n)}function Qc(t){this._context=t}Qc.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,zo)}},result:Wo};var Jc,Kc,tl,nl,el,rl=xo(),il={point:Wo,lineStart:function(){il.point=ol},lineEnd:function(){Jc&&al(Kc,tl),il.point=Wo},polygonStart:function(){Jc=!0},polygonEnd:function(){Jc=null},result:function(){var t=+rl;return rl.reset(),t}};function ol(t,n){il.point=al,Kc=nl=t,tl=el=n}function al(t,n){nl-=t,el-=n,rl.add($o(nl*nl+el*el)),nl=t,el=n}function ul(){this._string=[]}function cl(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ll(n,e){var r,i,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),na(t,r(i))),i.result()}return a.area=function(t){return na(t,r(yc)),yc.result()},a.measure=function(t){return na(t,r(il)),il.result()},a.bounds=function(t){return na(t,r(Nc)),Nc.result()},a.centroid=function(t){return na(t,r(Oc)),Oc.result()},a.projection=function(t){return arguments.length?(r=null==t?(n=null,sc):(n=t).stream,a):n},a.context=function(t){return arguments.length?(i=null==t?(e=null,new ul):new Qc(e=t),"function"!=typeof o&&i.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.projection(n).context(e)}function fl(r){return function(t){var n=new sl;for(var e in r)n[e]=r[e];return n.stream=t,n}}function sl(){}function hl(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),na(e,t.stream(Nc)),n(Nc.result()),null!=r&&t.clipExtent(r),t}function pl(a,u,t){return hl(a,function(t){var n=u[1][0]-u[0][0],e=u[1][1]-u[0][1],r=Math.min(n/(t[1][0]-t[0][0]),e/(t[1][1]-t[0][1])),i=+u[0][0]+(n-r*(t[1][0]+t[0][0]))/2,o=+u[0][1]+(e-r*(t[1][1]+t[0][1]))/2;a.scale(150*r).translate([i,o])},t)}function dl(t,n,e){return pl(t,[[0,0],n],e)}function gl(o,a,t){return hl(o,function(t){var n=+a,e=n/(t[1][0]-t[0][0]),r=(n-e*(t[1][0]+t[0][0]))/2,i=-e*t[0][1];o.scale(150*e).translate([r,i])},t)}function vl(o,a,t){return hl(o,function(t){var n=+a,e=n/(t[1][1]-t[0][1]),r=-e*t[0][0],i=(n-e*(t[1][1]+t[0][1]))/2;o.scale(150*e).translate([r,i])},t)}ul.prototype={_radius:4.5,_circle:cl(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=cl(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},sl.prototype={constructor:sl,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ml=16,yl=Uo(30*Do);function bl(t,n){return+n?function(C,A){function z(t,n,e,r,i,o,a,u,c,l,f,s,h,p){var d=a-t,g=u-n,v=d*d+g*g;if(4*A<v&&h--){var m=r+l,y=i+f,b=o+s,_=$o(m*m+y*y+b*b),w=Xo(b/=_),x=jo(jo(b)-1)<So||jo(e-c)<So?(e+c)/2:Lo(y,m),M=C(x,w),E=M[0],k=M[1],S=E-t,N=k-n,T=g*S-d*N;(A<T*T/v||.3<jo((d*S+g*N)/v-.5)||r*l+i*f+o*s<yl)&&(z(t,n,e,r,i,o,E,k,x,m/=_,y/=_,b,h,p),p.point(E,k),z(E,k,x,m,y,b,a,u,c,l,f,s,h,p))}}return function(i){var e,r,o,a,u,c,l,f,s,h,p,d,g={point:t,lineStart:n,lineEnd:m,polygonStart:function(){i.polygonStart(),g.lineStart=y},polygonEnd:function(){i.polygonEnd(),g.lineStart=n}};function t(t,n){t=C(t,n),i.point(t[0],t[1])}function n(){f=NaN,g.point=v,i.lineStart()}function v(t,n){var e=ga([t,n]),r=C(t,n);z(f,s,l,h,p,d,f=r[0],s=r[1],l=t,h=e[0],p=e[1],d=e[2],ml,i),i.point(f,s)}function m(){g.point=t,i.lineEnd()}function y(){n(),g.point=b,g.lineEnd=_}function b(t,n){v(e=t,n),r=f,o=s,a=h,u=p,c=d,g.point=v}function _(){z(f,s,l,h,p,d,r,o,e,a,u,c,ml,i),(g.lineEnd=m)()}return g}}(t,n):(e=t,fl({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}}));var e}var _l=fl({point:function(t,n){this.stream.point(t*Do,n*Do)}});function wl(t,e,r,n){var i=Uo(n),o=qo(n),a=i*t,u=o*t,c=i/t,l=o/t,f=(o*r-i*e)/t,s=(o*e+i*r)/t;function h(t,n){return[a*t-u*n+e,r-u*t-a*n]}return h.invert=function(t,n){return[c*t-l*n+f,s-l*t-c*n]},h}function xl(t){return Ml(function(){return t})()}function Ml(t){var e,i,n,r,o,a,u,c,l,f,s=150,h=480,p=250,d=0,g=0,v=0,m=0,y=0,b=0,_=null,w=Uu,x=null,M=sc,E=.5;function k(t){return c(t[0]*Do,t[1]*Do)}function S(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Fo,t[1]*Fo]}function N(){var t=wl(s,0,0,b).apply(null,e(d,g)),n=(b?wl:function(e,r,i){function t(t,n){return[r+e*t,i-e*n]}return t.invert=function(t,n){return[(t-r)/e,(i-n)/e]},t})(s,h-t[0],p-t[1],b);return i=_u(v,m,y),u=yu(e,n),c=yu(i,u),a=bl(u,E),T()}function T(){return l=f=null,k}return k.stream=function(t){return l&&f===t?l:l=_l((r=i,fl({point:function(t,n){var e=r(t,n);return this.stream.point(e[0],e[1])}})(w(a(M(f=t))))));var r},k.preclip=function(t){return arguments.length?(w=t,_=void 0,T()):w},k.postclip=function(t){return arguments.length?(M=t,x=n=r=o=null,T()):M},k.clipAngle=function(t){return arguments.length?(w=+t?Bu(_=t*Do):(_=null,Uu),T()):_*Fo},k.clipExtent=function(t){return arguments.length?(M=null==t?(x=n=r=o=null,sc):Ou(x=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),T()):null==x?null:[[x,n],[r,o]]},k.scale=function(t){return arguments.length?(s=+t,N()):s},k.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],N()):[h,p]},k.center=function(t){return arguments.length?(d=t[0]%360*Do,g=t[1]%360*Do,N()):[d*Fo,g*Fo]},k.rotate=function(t){return arguments.length?(v=t[0]%360*Do,m=t[1]%360*Do,y=2<t.length?t[2]%360*Do:0,N()):[v*Fo,m*Fo,y*Fo]},k.angle=function(t){return arguments.length?(b=t%360*Do,N()):b*Fo},k.precision=function(t){return arguments.length?(a=bl(u,E=t*t),T()):$o(E)},k.fitExtent=function(t,n){return pl(k,t,n)},k.fitSize=function(t,n){return dl(k,t,n)},k.fitWidth=function(t,n){return gl(k,t,n)},k.fitHeight=function(t,n){return vl(k,t,n)},function(){return e=t.apply(this,arguments),k.invert=e.invert&&S,N()}}function El(t){var n=0,e=To/3,r=Ml(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Do,e=t[1]*Do):[n*Fo,e*Fo]},i}function kl(t,n){var e=qo(t),r=(e+qo(n))/2;if(jo(r)<So)return function(t){var e=Uo(t);function n(t,n){return[t*e,qo(n)/e]}return n.invert=function(t,n){return[t/e,Xo(n*e)]},n}(t);var i=1+e*(2*r-e),o=$o(i)/r;function a(t,n){var e=$o(i-2*r*qo(n))/r;return[e*qo(t*=r),o-e*Uo(t)]}return a.invert=function(t,n){var e=o-n;return[Lo(t,jo(e))/r*Ho(e),Xo((i-(t*t+e*e)*r*r)/(2*r))]},a}function Sl(){return El(kl).scale(155.424).center([0,33.6442])}function Nl(){return Sl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Tl(o){return function(t,n){var e=Uo(t),r=Uo(n),i=o(e*r);return[i*r*qo(t),i*qo(n)]}}function Cl(a){return function(t,n){var e=$o(t*t+n*n),r=a(e),i=qo(r),o=Uo(r);return[Lo(t*i,e*o),Xo(e&&n*i/e)]}}var Al=Tl(function(t){return $o(2/(1+t))});Al.invert=Cl(function(t){return 2*Xo(t/2)});var zl=Tl(function(t){return(t=Zo(t))&&t/qo(t)});function Fl(t,n){return[t,Ro(Io((Co+n)/2))]}function Dl(e){var r,i,o,a=xl(e),n=a.center,u=a.scale,c=a.translate,l=a.clipExtent,f=null;function s(){var t=To*u(),n=a(Eu(a.rotate()).invert([0,0]));return l(null==f?[[n[0]-t,n[1]-t],[n[0]+t,n[1]+t]]:e===Fl?[[Math.max(n[0]-t,f),r],[Math.min(n[0]+t,i),o]]:[[f,Math.max(n[1]-t,r)],[i,Math.min(n[1]+t,o)]])}return a.scale=function(t){return arguments.length?(u(t),s()):u()},a.translate=function(t){return arguments.length?(c(t),s()):c()},a.center=function(t){return arguments.length?(n(t),s()):n()},a.clipExtent=function(t){return arguments.length?(null==t?f=r=i=o=null:(f=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),s()):null==f?null:[[f,r],[i,o]]},s()}function jl(t){return Io((Co+t)/2)}function Pl(t,n){var e=Uo(t),i=t===n?qo(t):Ro(e/Uo(n))/Ro(jl(n)/jl(t)),o=e*Oo(jl(t),i)/i;if(!i)return Fl;function r(t,n){0<o?n<-Co+So&&(n=-Co+So):Co-So<n&&(n=Co-So);var e=o/Oo(jl(n),i);return[e*qo(i*t),o-e*Uo(i*t)]}return r.invert=function(t,n){var e=o-n,r=Ho(i)*$o(t*t+e*e);return[Lo(t,jo(e))/i*Ho(e),2*Po(Oo(o/r,1/i))-Co]},r}function Ll(t,n){return[t,n]}function Ul(t,n){var e=Uo(t),i=t===n?qo(t):(e-Uo(n))/(n-t),o=e/i+t;if(jo(i)<So)return Ll;function r(t,n){var e=o-n,r=i*t;return[e*qo(r),o-e*Uo(r)]}return r.invert=function(t,n){var e=o-n;return[Lo(t,jo(e))/i*Ho(e),o-Ho(i)*$o(t*t+e*e)]},r}zl.invert=Cl(function(t){return t}),Fl.invert=function(t,n){return[t,2*Po(Yo(n))-Co]},Ll.invert=Ll;var Bl=1.340264,Yl=-.081106,Rl=893e-6,Ol=.003796,ql=$o(3)/2;function Hl(t,n){var e=Xo(ql*qo(n)),r=e*e,i=r*r*r;return[t*Uo(e)/(ql*(Bl+3*Yl*r+i*(7*Rl+9*Ol*r))),e*(Bl+Yl*r+i*(Rl+Ol*r))]}function $l(t,n){var e=Uo(n),r=Uo(t)*e;return[e*qo(t)/r,qo(n)/r]}function Il(e,r,i,o){return 1===e&&1===r&&0===i&&0===o?sc:fl({point:function(t,n){this.stream.point(t*e+i,n*r+o)}})}function Zl(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Xl(t,n){return[Uo(n)*qo(t),qo(n)]}function Vl(t,n){var e=Uo(n),r=1+Uo(t)*e;return[e*qo(t)/r,qo(n)/r]}function Wl(t,n){return[Ro(Io((Co+n)/2)),-t]}Hl.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Bl+Yl*i+o*(Rl+Ol*i))-n)/(Bl+3*Yl*i+o*(7*Rl+9*Ol*i)))*r)*i*i,!(jo(e)<No));++a);return[ql*t*(Bl+3*Yl*i+o*(7*Rl+9*Ol*i))/Uo(r),Xo(qo(r)/ql)]},$l.invert=Cl(Po),Zl.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(jo(e)>So&&0<--i);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Xl.invert=Cl(Xo),Vl.invert=Cl(function(t){return 2*Po(t)}),Wl.invert=function(t,n){return[-n,2*Po(Yo(t))-Co]};var Gl=Object.freeze({geoArea:function(t){return ca.reset(),na(t,la),2*ca},geoBounds:function(t){var n,e,r,i,o,a,u;if(Ea=Ma=-(wa=xa=1/0),Ca=[],na(t,Va),e=Ca.length){for(Ca.sort(ru),n=1,o=[r=Ca[0]];n<e;++n)iu(r,(i=Ca[n])[0])||iu(r,i[1])?(eu(r[0],i[1])>eu(r[0],r[1])&&(r[1]=i[1]),eu(i[0],r[1])>eu(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=eu(r[1],i[0]))>a&&(a=u,wa=i[0],Ma=r[1])}return Ca=Aa=null,wa===1/0||xa===1/0?[[NaN,NaN],[NaN,NaN]]:[[wa,xa],[Ma,Ea]]},geoCentroid:vu,geoCircle:function(){var r,i,o=mu([0,0]),a=mu(90),u=mu(6),c={point:function(t,n){r.push(t=i(t,n)),t[0]*=Fo,t[1]*=Fo}};function n(){var t=o.apply(this,arguments),n=a.apply(this,arguments)*Do,e=u.apply(this,arguments)*Do;return r=[],i=_u(-t[0]*Do,-t[1]*Do,0).invert,ku(c,n,e,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return n.center=function(t){return arguments.length?(o="function"==typeof t?t:mu([+t[0],+t[1]]),n):o},n.radius=function(t){return arguments.length?(a="function"==typeof t?t:mu(+t),n):a},n.precision=function(t){return arguments.length?(u="function"==typeof t?t:mu(+t),n):u},n},geoClipAntimeridian:Uu,geoClipCircle:Bu,geoClipExtent:function(){var n,e,r,i=0,o=0,a=960,u=500;return r={stream:function(t){return n&&e===t?n:n=Ou(i,o,a,u)(e=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],u=+t[1][1],n=e=null,r):[[i,o],[a,u]]}}},geoClipRectangle:Ou,geoContains:function(t,n){return(t&&tc.hasOwnProperty(t.type)?tc[t.type]:ec)(t,n)},geoDistance:Ku,geoGraticule:fc,geoGraticule10:function(){return fc()()},geoInterpolate:function(t,n){var e=t[0]*Do,r=t[1]*Do,i=n[0]*Do,o=n[1]*Do,a=Uo(r),u=qo(r),c=Uo(o),l=qo(o),f=a*Uo(e),s=a*qo(e),h=c*Uo(i),p=c*qo(i),d=2*Xo($o(Vo(o-r)+a*c*Vo(i-e))),g=qo(d),v=d?function(t){var n=qo(t*=d)/g,e=qo(d-t)/g,r=e*f+n*h,i=e*s+n*p,o=e*u+n*l;return[Lo(i,r)*Fo,Lo(o,$o(r*r+i*i))*Fo]}:function(){return[e*Fo,r*Fo]};return v.distance=d,v},geoLength:Gu,geoPath:ll,geoAlbers:Nl,geoAlbersUsa:function(){var n,e,i,o,a,r,u=Nl(),c=Sl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Sl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,n){r=[t,n]}};function s(t){var n=t[0],e=t[1];return r=null,i.point(n,e),r||(o.point(n,e),r)||(a.point(n,e),r)}function h(){return n=e=null,s}return s.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?c:.166<=i&&i<.234&&-.214<=r&&r<-.115?l:u).invert(t)},s.stream=function(t){return n&&e===t?n:(r=[u.stream(e=t),c.stream(t),l.stream(t)],i=r.length,n={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),l.precision(t),h()):u.precision()},s.scale=function(t){return arguments.length?(u.scale(t),c.scale(.35*t),l.scale(t),s.translate(u.translate())):u.scale()},s.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),e=+t[0],r=+t[1];return i=u.translate(t).clipExtent([[e-.455*n,r-.238*n],[e+.455*n,r+.238*n]]).stream(f),o=c.translate([e-.307*n,r+.201*n]).clipExtent([[e-.425*n+So,r+.12*n+So],[e-.214*n-So,r+.234*n-So]]).stream(f),a=l.translate([e-.205*n,r+.212*n]).clipExtent([[e-.214*n+So,r+.166*n+So],[e-.115*n-So,r+.234*n-So]]).stream(f),h()},s.fitExtent=function(t,n){return pl(s,t,n)},s.fitSize=function(t,n){return dl(s,t,n)},s.fitWidth=function(t,n){return gl(s,t,n)},s.fitHeight=function(t,n){return vl(s,t,n)},s.scale(1070)},geoAzimuthalEqualArea:function(){return xl(Al).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:Al,geoAzimuthalEquidistant:function(){return xl(zl).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:zl,geoConicConformal:function(){return El(Pl).scale(109.5).parallels([30,30])},geoConicConformalRaw:Pl,geoConicEqualArea:Sl,geoConicEqualAreaRaw:kl,geoConicEquidistant:function(){return El(Ul).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Ul,geoEqualEarth:function(){return xl(Hl).scale(177.158)},geoEqualEarthRaw:Hl,geoEquirectangular:function(){return xl(Ll).scale(152.63)},geoEquirectangularRaw:Ll,geoGnomonic:function(){return xl($l).scale(144.049).clipAngle(60)},geoGnomonicRaw:$l,geoIdentity:function(){var n,e,r,i,o,a,u=1,c=0,l=0,f=1,s=1,h=sc,p=null,d=sc;function g(){return i=o=null,a}return a={stream:function(t){return i&&o===t?i:i=h(d(o=t))},postclip:function(t){return arguments.length?(d=t,p=n=e=r=null,g()):d},clipExtent:function(t){return arguments.length?(d=null==t?(p=n=e=r=null,sc):Ou(p=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),g()):null==p?null:[[p,n],[e,r]]},scale:function(t){return arguments.length?(h=Il((u=+t)*f,u*s,c,l),g()):u},translate:function(t){return arguments.length?(h=Il(u*f,u*s,c=+t[0],l=+t[1]),g()):[c,l]},reflectX:function(t){return arguments.length?(h=Il(u*(f=t?-1:1),u*s,c,l),g()):f<0},reflectY:function(t){return arguments.length?(h=Il(u*f,u*(s=t?-1:1),c,l),g()):s<0},fitExtent:function(t,n){return pl(a,t,n)},fitSize:function(t,n){return dl(a,t,n)},fitWidth:function(t,n){return gl(a,t,n)},fitHeight:function(t,n){return vl(a,t,n)}}},geoProjection:xl,geoProjectionMutator:Ml,geoMercator:function(){return Dl(Fl).scale(961/zo)},geoMercatorRaw:Fl,geoNaturalEarth1:function(){return xl(Zl).scale(175.295)},geoNaturalEarth1Raw:Zl,geoOrthographic:function(){return xl(Xl).scale(249.5).clipAngle(90+So)},geoOrthographicRaw:Xl,geoStereographic:function(){return xl(Vl).scale(250).clipAngle(142)},geoStereographicRaw:Vl,geoTransverseMercator:function(){var t=Dl(Wl),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],2<t.length?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:Wl,geoRotation:Eu,geoStream:na,geoTransform:function(t){return{stream:fl(t)}}});function Ql(t){return t}function Jl(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return Kl(n,t)})}:Kl(n,t)}function Kl(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=tf(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function tf(t,n){var o=function(t){if(null==t)return Ql;var o,a,u=t.scale[0],c=t.scale[1],l=t.translate[0],f=t.translate[1];return function(t,n){n||(o=a=0);var e=2,r=t.length,i=new Array(r);for(i[0]=(o+=t[0])*u+l,i[1]=(a+=t[1])*c+f;e<r;)i[e]=t[e],++e;return i}}(t.transform),a=t.arcs;function i(t,n){n.length&&n.pop();for(var e=a[t<0?~t:t],r=0,i=e.length;r<i;++r)n.push(o(e[r],r));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,i)}function u(t){return o(t)}function c(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function e(t){for(var n=c(t);n.length<4;)n.push(n[0]);return n}function l(t){return t.map(e)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=u(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(u);break;case"LineString":e=c(n.arcs);break;case"MultiLineString":e=n.arcs.map(c);break;case"Polygon":e=l(n.arcs);break;case"MultiPolygon":e=n.arcs.map(l);break;default:return null}return{type:r,coordinates:e}}(n)}function nf(c,i){var o={},l={},f={},a=[],u=-1;function t(t,n){for(var e in t){var r=t[e];delete n[r.start],delete r.start,delete r.end,r.forEach(function(t){o[t<0?~t:t]=1}),a.push(r)}}return i.forEach(function(t,n){var e,r=c.arcs[t<0?~t:t];r.length<3&&!r[1][0]&&!r[1][1]&&(e=i[++u],i[u]=t,i[n]=e)}),i.forEach(function(t){var n,e,r=function(t){var n,e=c.arcs[t<0?~t:t],r=e[0];c.transform?(n=[0,0],e.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=e[e.length-1];return t<0?[n,r]:[r,n]}(t),i=r[0],o=r[1];if(n=f[i])if(delete f[n.end],n.push(t),n.end=o,e=l[o]){delete l[e.start];var a=e===n?n:n.concat(e);l[a.start=n.start]=f[a.end=e.end]=a}else l[n.start]=f[n.end]=n;else if(n=l[o])if(delete l[n.start],n.unshift(t),n.start=i,e=f[i]){delete f[e.end];var u=e===n?n:e.concat(n);l[u.start=e.start]=f[u.end=n.end]=u}else l[n.start]=f[n.end]=n;else l[(n=[t]).start=i]=f[n.end=o]=n}),t(f,l),t(l,f),i.forEach(function(t){o[t<0?~t:t]||a.push([t])}),a}function ef(t){return tf(t,function(t,n,e){var r,i,o;if(1<arguments.length)r=function(t,n,e){var r,i=[],o=[];function a(t){var n=t<0?~t:t;(o[n]||(o[n]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function c(t){t.forEach(u)}return function t(n){switch((r=n).type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":u(n.arcs);break;case"MultiLineString":case"Polygon":c(n.arcs);break;case"MultiPolygon":n.arcs.forEach(c)}}(n),o.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:nf(t,r)}}.apply(this,arguments))}var rf="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var of,af=(function(t){var n,e;n=rf,e=function(){var y,o,c,l,t,u={},b={},n={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},f={currentLocale:n.currentLocale,zeroFormat:n.zeroFormat,nullFormat:n.nullFormat,defaultFormat:n.defaultFormat,scalePercentBy100:n.scalePercentBy100};function a(t,n){this._input=t,this._value=n}return(y=function(t){var n,e,r,i;if(y.isNumeral(t))n=t.value();else if(0===t||void 0===t)n=0;else if(null===t||o.isNaN(t))n=null;else if("string"==typeof t)if(f.zeroFormat&&t===f.zeroFormat)n=0;else if(f.nullFormat&&t===f.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in u)if((i="function"==typeof u[e].regexps.unformat?u[e].regexps.unformat():u[e].regexps.unformat)&&t.match(i)){r=u[e].unformat;break}n=(r=r||y._.stringToNumber)(t)}else n=Number(t)||null;return new a(t,n)}).version="2.0.6",y.isNumeral=function(t){return t instanceof a},y._=o={numberToFormat:function(t,n,e){var r,i,o,a,u,c,l,f,s=b[y.options.currentLocale],h=!1,p=!1,d="",g="",v=!1;if(t=t||0,o=Math.abs(t),y._.includes(n,"(")?(h=!0,n=n.replace(/[\(|\)]/g,"")):(y._.includes(n,"+")||y._.includes(n,"-"))&&(c=y._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),y._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],y._.includes(n," a")&&(d=" "),n=n.replace(new RegExp(d+"a[kmbt]?"),""),1e12<=o&&!i||"t"===i?(d+=s.abbreviations.trillion,t/=1e12):o<1e12&&1e9<=o&&!i||"b"===i?(d+=s.abbreviations.billion,t/=1e9):o<1e9&&1e6<=o&&!i||"m"===i?(d+=s.abbreviations.million,t/=1e6):(o<1e6&&1e3<=o&&!i||"k"===i)&&(d+=s.abbreviations.thousand,t/=1e3)),y._.includes(n,"[.]")&&(p=!0,n=n.replace("[.]",".")),a=t.toString().split(".")[0],u=n.split(".")[1],l=n.indexOf(","),r=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(a=(g=y._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),y._.toFixed(t,u[0].length+u[1].length,e,u[1].length)):y._.toFixed(t,u.length,e)).split(".")[0],g=y._.includes(g,".")?s.delimiters.decimal+g.split(".")[1]:"",p&&0===Number(g.slice(1))&&(g="")):a=y._.toFixed(t,0,e),d&&!i&&1e3<=Number(a)&&d!==s.abbreviations.trillion)switch(a=String(Number(a)/1e3),d){case s.abbreviations.thousand:d=s.abbreviations.million;break;case s.abbreviations.million:d=s.abbreviations.billion;break;case s.abbreviations.billion:d=s.abbreviations.trillion}if(y._.includes(a,"-")&&(a=a.slice(1),v=!0),a.length<r)for(var m=r-a.length;0<m;m--)a="0"+a;return-1<l&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+s.delimiters.thousands)),0===n.indexOf(".")&&(a=""),f=a+g+(d||""),h?f=(h&&v?"(":"")+f+(h&&v?")":""):0<=c?f=0===c?(v?"-":"+")+f:f+(v?"-":"+"):v&&(f="-"+f),f},stringToNumber:function(t){var n,e,r,i=b[f.currentLocale],o=t,a={thousand:3,million:6,billion:9,trillion:12};if(f.zeroFormat&&t===f.zeroFormat)e=0;else if(f.nullFormat&&t===f.nullFormat||!t.replace(/[^0-9]+/g,"").length)e=null;else{for(n in e=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),a)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[n]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){e*=Math.pow(10,a[n]);break}e*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),e*=Number(t)}return e},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,n){return-1!==t.indexOf(n)},insert:function(t,n,e){return t.slice(0,e)+n+t.slice(e)},reduce:function(t,n){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof n)throw new TypeError(n+" is not a function");var e,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)e=arguments[2];else{for(;o<i&&!(o in r);)o++;if(i<=o)throw new TypeError("Reduce of empty array with no initial value");e=r[o++]}for(;o<i;o++)o in r&&(e=n(e,r[o],o,r));return e},multiplier:function(t){var n=t.toString().split(".");return n.length<2?1:Math.pow(10,n[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,n){var e=o.multiplier(n);return e<t?t:e},1)},toFixed:function(t,n,e,r){var i,o,a,u,c=t.toString().split("."),l=n-(r||0);return i=2===c.length?Math.min(Math.max(c[1].length,l),n):l,a=Math.pow(10,i),u=(e(t+"e+"+i)/a).toFixed(i),n-i<r&&(o=new RegExp("\\.?0{1,"+(r-(n-i))+"}$"),u=u.replace(o,"")),u}},y.options=f,y.formats=u,y.locales=b,y.locale=function(t){return t&&(f.currentLocale=t.toLowerCase()),f.currentLocale},y.localeData=function(t){if(!t)return b[f.currentLocale];if(t=t.toLowerCase(),!b[t])throw new Error("Unknown locale : "+t);return b[t]},y.reset=function(){for(var t in n)f[t]=n[t]},y.zeroFormat=function(t){f.zeroFormat="string"==typeof t?t:null},y.nullFormat=function(t){f.nullFormat="string"==typeof t?t:null},y.defaultFormat=function(t){f.defaultFormat="string"==typeof t?t:"0.0"},y.register=function(t,n,e){if(n=n.toLowerCase(),this[t+"s"][n])throw new TypeError(n+" "+t+" already registered.");return this[t+"s"][n]=e},y.validate=function(t,n){var e,r,i,o,a,u,c,l;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=y.localeData(n)}catch(t){c=y.localeData(y.locale())}return i=c.currency.symbol,a=c.abbreviations,e=c.delimiters.decimal,r="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(l=t.match(/^[^\d]+/))||(t=t.substr(1),l[0]===i))&&((null===(l=t.match(/[^\d]+$/))||(t=t.slice(0,-1),l[0]===a.thousand||l[0]===a.million||l[0]===a.billion||l[0]===a.trillion))&&(u=new RegExp(r+"{2}"),!t.match(/[^\d.,]/g)&&(!(2<(o=t.split(e)).length)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(u):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(u)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(u)&&!!o[1].match(/^\d+$/)))))},y.fn=a.prototype={clone:function(){return y(this)},format:function(t,n){var e,r,i,o=this._value,a=t||f.defaultFormat;if(n=n||Math.round,0===o&&null!==f.zeroFormat)r=f.zeroFormat;else if(null===o&&null!==f.nullFormat)r=f.nullFormat;else{for(e in u)if(a.match(u[e].regexps.format)){i=u[e].format;break}r=(i=i||y._.numberToFormat)(o,a,n)}return r},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var i=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([this._value,t],function(t,n,e,r){return t+Math.round(i*n)},0)/i,this},subtract:function(t){var i=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([t],function(t,n,e,r){return t-Math.round(i*n)},Math.round(this._value*i))/i,this},multiply:function(t){return this._value=o.reduce([this._value,t],function(t,n,e,r){var i=o.correctionFactor(t,n);return Math.round(t*i)*Math.round(n*i)/Math.round(i*i)},1),this},divide:function(t){return this._value=o.reduce([this._value,t],function(t,n,e,r){var i=o.correctionFactor(t,n);return Math.round(t*i)/Math.round(n*i)}),this},difference:function(t){return Math.abs(y(this._value).subtract(t).value())}},y.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var n=t%10;return 1==~~(t%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th"},currency:{symbol:"$"}}),y.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,e){var r,i=y._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),r=y._.numberToFormat(t,n,e),r=y._.includes(r,")")?((r=r.split("")).splice(-1,0,i+"BPS"),r.join("")):r+i+"BPS"},unformat:function(t){return+(1e-4*y._.stringToNumber(t)).toFixed(15)}}),l={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},t="("+(t=(c={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(l.suffixes.filter(function(t){return c.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",y.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(t)},format:function(t,n,e){var r,i,o,a=y._.includes(n,"ib")?l:c,u=y._.includes(n," b")||y._.includes(n," ib")?" ":"";for(n=n.replace(/\s?i?b/,""),r=0;r<=a.suffixes.length;r++)if(i=Math.pow(a.base,r),o=Math.pow(a.base,r+1),null===t||0===t||i<=t&&t<o){u+=a.suffixes[r],0<i&&(t/=i);break}return y._.numberToFormat(t,n,e)+u},unformat:function(t){var n,e,r=y._.stringToNumber(t);if(r){for(n=c.suffixes.length-1;0<=n;n--){if(y._.includes(t,c.suffixes[n])){e=Math.pow(c.base,n);break}if(y._.includes(t,l.suffixes[n])){e=Math.pow(l.base,n);break}}r*=e||1}return r}}),y.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,e){var r,i,o=y.locales[y.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),r=y._.numberToFormat(t,n,e),0<=t?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!y._.includes(a.before,"-")&&!y._.includes(a.before,"(")&&(a.before="-"+a.before),i=0;i<a.before.length;i++)switch(a.before[i]){case"$":r=y._.insert(r,o.currency.symbol,i);break;case" ":r=y._.insert(r," ",i+o.currency.symbol.length-1)}for(i=a.after.length-1;0<=i;i--)switch(a.after[i]){case"$":r=i===a.after.length-1?r+o.currency.symbol:y._.insert(r,o.currency.symbol,-(a.after.length-(1+i)));break;case" ":r=i===a.after.length-1?r+" ":y._.insert(r," ",-(a.after.length-(1+i)+o.currency.symbol.length-1))}return r}}),y.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,e){var r=("number"!=typeof t||y._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),y._.numberToFormat(Number(r[0]),n,e)+"e"+r[1]},unformat:function(t){var n=y._.includes(t,"e+")?t.split("e+"):t.split("e-"),e=Number(n[0]),r=Number(n[1]);return r=y._.includes(t,"e-")?r*=-1:r,y._.reduce([e,Math.pow(10,r)],function(t,n,e,r){var i=y._.correctionFactor(t,n);return t*i*(n*i)/(i*i)},1)}}),y.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,e){var r=y.locales[y.options.currentLocale],i=y._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),i+=r.ordinal(t),y._.numberToFormat(t,n,e)+i}}),y.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,e){var r,i=y._.includes(n," %")?" ":"";return y.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),r=y._.numberToFormat(t,n,e),r=y._.includes(r,")")?((r=r.split("")).splice(-1,0,i+"%"),r.join("")):r+i+"%"},unformat:function(t){var n=y._.stringToNumber(t);return y.options.scalePercentBy100?.01*n:n}}),y.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,n,e){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),o=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var n=t.split(":"),e=0;return 3===n.length?(e+=60*Number(n[0])*60,e+=60*Number(n[1]),e+=Number(n[2])):2===n.length&&(e+=60*Number(n[0]),e+=Number(n[1])),Number(e)}}),y},t.exports?t.exports=e():n.numeral=e()}(of={exports:{}},of.exports),of.exports);function uf(t){var n=typeof t;return"function"===n||"object"===n&&!!t}var cf=Array.prototype,lf=Object.prototype,ff=cf.slice,sf=lf.toString,hf=lf.hasOwnProperty,pf=Object.keys;function df(t,n){return null!=t&&hf.call(t,n)}var gf,vf=(gf=1,function(t,n,e){n=Ff(n,e);for(var r=Pf(t),i=0<gf?0:r-1;0<=i&&i<r;i+=gf)if(n(t[i],i,t))return i;return-1});var mf,yf,bf,_f=(mf=1,yf=vf,bf=function(t,n,e,r){for(var i=(e=Ff(e,r,1))(n),o=0,a=Pf(t);o<a;){var u=Math.floor((o+a)/2);e(t[u])<i?o=u+1:a=u}return o},function(t,n,e){var r=0,i=Pf(t);if("number"==typeof e)0<mf?r=0<=e?e:Math.max(e+i,r):i=0<=e?Math.min(e+1,i):e+i+1;else if(bf&&e&&i)return e=bf(t,n),t[e]===n?e:-1;if(n!=n)return 0<=(e=yf(ff.call(t,r,i),Mf))?e+r:-1;for(e=0<mf?r:i-1;0<=e&&e<i;e+=mf)if(t[e]===n)return e;return-1});function wf(t,n,e,r){return Lf(t)||(t=function(t){for(var n=Yf(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r}(t)),("number"!=typeof e||r)&&(e=0),0<=_f(t,n,e)}var xf=("function"!=typeof/./&&"object"!=typeof Int8Array&&"undefined"!=typeof document&&"function"!=typeof document.childNodes?function(t){return"function"==typeof t||!1}:null)||function(t){return"[object Function]"===sf.call(t)};!function(){sf.call(arguments)}();function Mf(t){return n=t,"[object Number]"===sf.call(n)&&isNaN(t);var n}var Ef=zf;function kf(t){return t}var Sf,Nf,Tf=(Sf=Yf,function(t){var n=arguments,e=arguments.length;if(Nf&&(t=Object(t)),e<2||null==t)return t;for(var r=1;r<e;r++)for(var i=n[r],o=Sf(i),a=o.length,u=0;u<a;u++){var c=o[u];!uf(t)||Nf&&void 0!==t[c]||(t[c]=i[c])}return t});function Cf(n){return n=Tf({},n),function(t){return function(t,n){var e=Yf(n),r=e.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=e[o];if(n[a]!==i[a]||!(a in i))return!1}return!0}(t,n)}}function Af(i,o,t){if(void 0===o)return i;switch(null==t?3:t){case 1:return function(t){return i.call(o,t)};case 3:return function(t,n,e){return i.call(o,t,n,e)};case 4:return function(t,n,e,r){return i.call(o,t,n,e,r)}}return function(){return i.apply(o,arguments)}}function zf(t,n){return Ff(t,n,1/0)}function Ff(t,n,e){return Ef!==zf?Ef(t,n):null==t?kf:xf(t)?Af(t,n,e):uf(t)?Cf(t):Df(t)}function Df(n){return function(t){return null==t?void 0:t[n]}}var jf=Math.pow(2,53)-1,Pf=Df("length"),Lf=function(t){var n=Pf(t);return"number"==typeof n&&0<=n&&n<=jf};var Uf=!{toString:null}.propertyIsEnumerable("toString"),Bf=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];!function(t){for(var n={},e=Yf(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r]}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"});function Yf(t){if(!uf(t))return[];if(pf)return pf(t);var n=[];for(var e in t)df(t,e)&&n.push(e);return Uf&&function(t,n){var e=Bf.length,r=t.constructor,i=xf(r)&&r.prototype||lf,o="constructor";for(df(t,o)&&!wf(n,o)&&n.push(o);e--;)(o=Bf[e])in t&&t[o]!==i[o]&&!wf(n,o)&&n.push(o)}(t,n),n}function Rf(r,t){var i={"de-DE":[",",".","k","m","b","t","â¬"],"de-AT":"de-DE","it-IT":"de-DE","es-ES":"de-DE","pt-PT":"de-DE","nl-NL":"de-DE","da-DK":"de-DE","de-CH":[".","'","k","m","b","t","â¬"],"fr-CH":"de-CH","fr-FR":[","," ","k","m","b","t","â¬"],"nb-NO":"fr-FR","sv-SE":"fr-FR","ru-RU":"fr-FR","fi-FI":"fr-FR"};!function(t,n,e){var r,i;if(n=Af(n,e),Lf(t))for(r=0,i=t.length;r<i;r++)n(t[r],r,t);else{var o=Yf(t);for(r=0,i=o.length;r<i;r++)n(t[o[r]],o[r],t)}}(i,function(t,n){var e;e=t,"[object String]"===sf.call(e)&&(t=i[t]),void 0===r.locales[n]&&void 0===r.locales[n.toLowerCase()]&&r.register("locale",n,{delimiters:{thousands:t[1],decimal:t[0]},abbreviations:{thousand:t[2],million:t[3],billion:t[4],trillion:t[5]},ordinal:function(){return"."},currency:{symbol:t[6]}})});var n=function(t){return t.split(/[-_]/)[0]},e=t in i?t:n(t)in i?n(t):"en";r.locale(e)}var Of={interpolate:/\{\{(.+?)\}\}/g,evaluate:/\{%(.+?)%\}/g};function qf(t,n,e){if(void 0===n&&(n=null),void 0===e&&(e=null),!n)return t;for(var r=n.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?e:i}function Hf(n,e){try{e(n)}catch(t){var r=t.message;if(t.message.match("is not defined")){var i=r.replace(" is not defined","");n[i]="<span style='color:red; font-family:monospace;'>{{ "+i+" }}</span>",Hf(n,e)}else n.jsError="<table><tr style='color:red; font-family:monospace;'><td class='arrow'>â£ </td><td>"+t.message+"</td></tr></table>"}return n}Y.prototype.at=ho,Y.prototype.append=lo,Y.prototype.translate=uo,Y.prototype.tspans=so,dw.visualization.register("d3-maps-core",{init:function(t){this.svg=t.node(),this.__canvas={w:+t.attr("width"),h:+t.attr("height"),lpad:10,rpad:10},Rf(af,this.chart().locale())},initBaseMap:function(t,n,W){var G=this,Q=G.size(),J=G.axes(),K=G.theme(),e=__dw.params.d3maps_basemap[n],tt=+G.get("map-padding",0)/100,nt=Q[0],et=Q[1],rt=G.get("max-map-height",650),r=new URLSearchParams(window.location.search),it="1"===r.get("svgonly")||"1"===r.get("fitchart")||qf(K,"vis.d3-maps.core.fitchart",0),i=G.get("layers",{});if(_.templateSettings={interpolate:Of.interpolate,evaluate:Of.evaluate},e){var o=R(t);Jt(ct()).l<50&&o.classed("color-invert",!0);var a=o.append("svg").classed(n,!0).style("overflow","hidden").at({width:nt,height:et});G.init(a),["regions","borders","exteriorBorders","innerborders"].forEach(function(t){i[t]&&(e.meta[t]=i[t])}),function(t,c,n,o){c.maxZoom=c.maxZoom||8;var e=c.projection,i=c.extent,a=!_.isEmpty(i.exclude),u=Jl(t,t.objects[c.regions]),r=vu(u),l="geoNaturalEarth"===e.type?"geoNaturalEarth1":e.type,f=function(t,n,e){if(e.custom_upload&&"geoNaturalEarth1"===t.type)return[0,0,0];if(t.rotate||!1===t.rotate)return t.rotate;return[-n[0],-n[1]]}(e,r,c),s=e.center,h=!1===i.padding||void 0===i.padding?0:i.padding,p=Gl[l]();f&&p.rotate&&p.rotate(f);var d=a?function(){var t=u.features,n=function(e){i.exclude[e].forEach(function(n){t=t.filter(function(t){return t.properties[e]!==n})})};for(var e in i.exclude)i.exclude.hasOwnProperty(e)&&n(e);return{type:"FeatureCollection",features:t}}():u;i.layer&&!G.get("hide-empty-regions")&&(d=Jl(t,t.objects[i.layer]));at(p,h,d),s&&p.center&&ut(p,s);var g=ll().projection(p),v=o.append("g.map"),m=v.append("rect.background").attr("width",nt).attr("height",et);i.layer&&!G.get("hide-empty-regions")&&v.append("path.bg.geo").datum(Jl(t,t.objects[i.layer])).attr("d",g);var y=qf(K,"vis."+G.meta.id+".borders.outerBorder",!1),b=function(t){var n=t.features,e=v.append("g.regions"),r=e.selectAll(".region").data(n).enter().append("g.region").each(function(t){t.anchor=X(t)}),i=r.append("path.geo.region").attr("d",g).classed("highlight",function(t){if("#id="!==location.hash.substr(0,4))return!1;var n=location.hash.substr(4).split(",");return-1<n.indexOf(t.properties.RS)});return{regionShapes:n,regions:e,gregion:r,region:i}},w=b(u),x=w.regionShapes,M=w.regions,E=w.gregion,k=w.region,S=function(){var t=a||i.layer||G.get("hide-empty-regions")?d:u,n=b(t),e=n.regions,r=e.node().getBoundingClientRect();return e.remove(),r},N=S(),T=v.append("path.geo.borders").datum(ef(t,t.objects[c.regions],function(t,n){return t!==n})).attr("d",g);function C(t,n){t&&c.strokes&&c.strokes[n]&&("number"==typeof c.strokes[n]?t.style("stroke-width",c.strokes[n]):"object"==typeof c.strokes[n]&&t.st(c.strokes[n]))}C(T,"regions"),c.custom_upload&&c.exteriorBorders&&(c.strokes={exteriorBorders:{stroke:"#888888",strokeWidth:2,strokeDasharray:"3,6",strokeLinecap:"round"}});var A=c.exteriorBorders?v.append("path.geo.borders.exteriorborders").datum(ef(t,t.objects[c.exteriorBorders],function(t,n){return!0})).attr("d",g):void 0;C(A,"exteriorBorders");var z=c.borders?v.append("path.geo.borders2.borders").datum(ef(t,t.objects[c.borders],function(t,n){return t!==n})).attr("d",g):void 0;C(z,"borders");var F=c.innerborders?v.append("path.geo.innerborders.borders").datum(ef(t,t.objects[c.innerborders])).attr("d",g):void 0;C(F,"inner");var D,j=y?v.append("path.geo.outerBorder.borders").datum(ef(t,t.objects[c.regions],function(t,n){return t===n})).attr("d",g).style("fill","transparent").style("stroke",y.stroke):void 0,P=v.append("g.outlines"),L=P.selectAll(".region-outline").data(x).enter().append("path.geo.region-outline").attr("d",g),U=[],B={};if(!it){var Y=ot(h)[1],R=$(),O=M.node().getBoundingClientRect().height;if(O){var q=O/R.k+2*Y;o.at({height:q})}}var H={svg:o,scale:1,meta:c,g:v,data:x,region:{g:E,fill:k,outline:L},proj:p,path:g,feat:u,borders:T,borders2:z,innerborders:F,getThemeBgColor:ct,clearZoomLayer:function(){U.forEach(function(t){t.g.remove()}),U.length=0},addZoomLayer:function(t,n,e){B[t]={g:n,feat:e},U.push(B[t])},updateZoomLayerSelection:function(t,n){B[t].feat=n},onZoom:function(t){D=t},setUserPadding:function(t){return tt=t,I(G.size()),H},zoomVisRegions:function(){d=H.getVisRegions(),at(p,h,d),N=S(),I(G.size())},getVisRegions:function(){var t=d.features.filter(function(t){return!H.hasNoData(t)});return{type:"FeatureCollection",features:t}},hasNoData:function(t){return!t.data||void 0===t.data[J.values]||null===t.data[J.values]||"null"===t.data[J.values]||"-"===t.data[J.values]},sizeTooltip:V(Q),resizeMap:I,fixZoom:Z,zoomBehavior:!1};function $(){var t=H&&void 0!==H.zoomBehavior&&!1!==H.zoomBehavior?Qi(o.node()):Gi;return t}void 0!==G.get("zoomable")&&!0!==G.get("zoomable")||(H.zoomBehavior=ao().scaleExtent([1,c.maxZoom]).filter(function(){var t="wheel"===lt.type&&!lt.ctrlKey,n=lt.touches&&1===lt.touches.length;return!lt.button&&!t&&!n}).on("zoom",function(){var t=lt.transform,n=(nt-N.width)/2*t.k,e=(et-N.height)/2*t.k,r=N.width*t.k,i=N.height*t.k,o=Math.min(0,nt-r)-n,a=Math.min(0,et-i)-e;t.x=Math.min(-n,Math.max(o,t.x)),t.y=Math.min(-e,Math.max(a,t.y)),r<nt&&(t.x=.5*(nt-r)-n);i<et&&(t.y=.5*(et-i)-e);Z(),D&&D(t.k,[t.x,t.y])}),o.call(H.zoomBehavior).style("touch-action","auto"),n.style("position","relative").append("div.zoom-buttons").selectAll(".zoom-btn").data(["in","out"]).enter().append("div").attr("class",function(t){return"zoom-btn zoom-btn-"+t}).html(function(t){return"in"===t?"+":"â"}).on("click",function(t){var n=(e=$().k*Math.pow(2,+("in"===t?1:-1)),r=1,i=c.maxZoom,Math.max(r,Math.min(i,e)));var e,r,i;H.zoomBehavior.scaleTo(o.transition().duration(750),n)}));function I(t){if(rt=G.get("max-map-height",650),G.size(t[0],t[1]),nt=t[0],et=t[1],s&&p.center&&p.center([0,0]),at(p,h,d),s&&p.center&&ut(p,s),g.projection(p),o.selectAll("path.geo").attr("d",g),!it){var n=ot(h)[1],e=$(),r=M.node().getBoundingClientRect().height;r&&(et=r/e.k+2*n)}o.at({width:nt,height:et}),m.attr("width",nt).attr("height",et),H.sizeTooltip=V(t),M.selectAll("g.region").each(function(t){t.anchor=X(t)}),N=S(),Z()}return W(H);function Z(){var t=$(),n=H.scale=t.k,e=Math.pow(Math.min(1,n-1),.5),o=(.45+.25*e)/n,r=[{key:"regions",selection:T,scale:1},{key:"outlines",selection:P,scale:2},{key:"borders",selection:z,scale:3},{key:"innerborders",selection:F,scale:.5},{key:"exteriorBorders",selection:A,scale:1.5},{key:"outerBorder",selection:j,scale:1}];r.forEach(function(t){var n=qf(K,"vis."+G.meta.id+".borders."+t.key+".scale",qf(K,"vis.d3-maps-core.borders."+t.key+".scale"));n&&(t.scale=n)}),v.attr("transform",t),r.forEach(function(t){var n=t.key,e=t.selection,r=t.scale;if((c[n]||"outlines"===n||j&&"outerBorder"===n)&&e.style("stroke-width",o*r+"px"),c.strokes&&"object"==typeof c.strokes[n]&&c.strokes[n].strokeDasharray){var i=c.strokes[n].strokeDasharray.split(",").map(function(t){return Number(t)*o});e.style("stroke-dasharray",i.join(","))}});for(var i=U.length,a=0;a<i;a++)U[a].feat.attr("transform",u);function u(t){return"translate("+t.anchor+") scale("+1/n+")"}}function X(t){return void 0===t.properties.cx&&void 0===t.properties.cy?g.centroid(t):p([t.properties.cx,t.properties.cy])}function V(s){return function(t,n,e){if(s[0]<400){var r=t[1]/s[1],i=!0===G.__chart.get("metadata.describe.hide-title")||""===G.__chart.get("metadata.describe.intro")&&""===G.__chart.get("title");e.st({top:r<.5?"auto":i?"0px":"-20px",bottom:r<.5?"20px":"auto",left:0,right:0,"max-width":"100%","max-height":.45*s[1]+"px"})}else{var o=e.property("offsetWidth"),a=e.property("offsetHeight"),u=n.offsetWidth,c=n.offsetHeight,l=t[0]+10+o<u,f=t[1]+10+a<c;e.st({top:f?t[1]-10+"px":"auto",bottom:f?"auto":Math.min(c-a,c-t[1]+10)+"px",left:l?t[0]+10+"px":"auto",right:l?"auto":u-t[0]+10+"px","max-height":.55*s[1]+"px"}),e.style("max-width",null)}}}}(e.content,e.meta,o,a)}else setTimeout(function(){location.reload()},2e3);function ot(t){var n=(et-et*(1-tt))/2;return[parseInt((nt-nt*(1-tt))/2,10)+t,parseInt(n,10)+t]}function at(t,n,e){var r,i,o,a,u,c,l,f,s,h,p=ot(n),d=p[0],g=p[1];it?t.fitExtent([[d,g],[nt-d,et-g]],e):(r=t,i=nt||50,o=+rt,a=d||0,u=g||0,c=e,l=ll().projection(r).bounds(c),f=l[1][1]-l[0][1],s=l[1][0]-l[0][0],h=f/s,r.fitExtent([[a,u],[i-a,Math.min(o,i*h)-u]],c))}function ut(t,n){t.center(n)}function ct(){return G.theme().colors.background}},_svgCanvas:function(){return this.svg},getFormat:function(n,e,t){if(!e)return _.identity;var r=this,i=r.get(n,t),o=-1<i.indexOf("%"),a="number"===e.type()?function(t){return af(o?.01*t:t).format((e={f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".1s":"0a",".2s":"0.0a",".3s":"0.00a"}).hasOwnProperty(n=i)?e[n]:n);var n,e}:"date"===e.type()?function(t){return moment(t).format(r.get(n)||"YYYY")}:_.identity;return function(t){return"date"===e.type()?_.isDate(t)?a(t):t:a(t)}},getColorScale:function(t){var n=this.dataset,e=this.axes(!0).values,r=e.type(),i=this.get(t+".colors",function(t){var n=[{c:"#fff",p:0},{c:"#000",p:1}],e=t.theme(),r=e.colors?e.colors.gradients:null;if(!r)return n;var i=r[0];return!i||!_.isString(i[0])||i.length<2?n:i.map(function(t,n){return{c:t,p:n/(i.length-1)}})}(this)),o=this.get(t+".stops",function(t,n){var e=[{p:0,v:0},{p:1,v:1}],r=n.name();if(!r)return e;var i=t.column(r).range();return i?[{p:0,v:i[0]},{p:1,v:i[1]}]:e}(n,e));if(window.ds=n,"number"===r)return po(ge().range(o.map(po("p"))).domain(o.map(po("v"))),ge().clamp(!0).domain(i.map(po("p"))).range(i.map(po("c"))));var a,u,c,l,f,s,h=_.uniq(e.values()).filter(_.identity);return i=this.__categoryColors=(a=this.get("categories",{}),u=h,c=this.theme(),l=st(a),f=[].concat(c.colors.palette).concat(c.colors.secondary).filter(function(t){return l.indexOf(t)<0}),s=_.extend({},a),u.forEach(function(t){if(!s[t]){var n=f.shift();s[t]=n}}),s),function t(r){var o=at(),a=[],i=gt;function u(t){var n=t+"",e=o.get(n);if(!e){if(i!==gt)return i;o.set(n,e=a.push(t))}return r[(e-1)%r.length]}return r=null==r?[]:dt.call(r),u.domain=function(t){if(!arguments.length)return a.slice();a=[],o=at();for(var n,e,r=-1,i=t.length;++r<i;)o.has(e=(n=t[r])+"")||o.set(e,a.push(n));return u},u.range=function(t){return arguments.length?(r=dt.call(t),u):r.slice()},u.unknown=function(t){return arguments.length?(i=t,u):i},u.copy=function(){return t().domain(a).range(r).unknown(i)},u}().domain(ft(i)).range(st(i))}}),Y.prototype.append=lo,Y.prototype.st=go;var $f,If,Zf,Xf,Vf,Wf,Gf={max:et,mean:function(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=G(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=G(n(t[o],o,t)))?--i:a+=e;if(i)return a/i},median:function(t,n){var e,r=t.length,i=-1,o=[];if(null==n)for(;++i<r;)isNaN(e=G(t[i]))||o.push(e);else for(;++i<r;)isNaN(e=G(n(t[i],i,t)))||o.push(e);return function(t,n,e){if(null==e&&(e=G),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(1<=n)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}(o.sort(Z),.5)},sum:function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o}};dw.visualization.register("d3-maps-symbols","d3-maps-core",{render:function(c){if(If)return!1;If=!0;var k=c,j=this,f=j.theme(),S=j.dataset.list(),N=j.size(),s=j.get("max-radius",20),T=j.get("fixed-radius",5),C={circle:"M -1,0 a 1,1 0 1,0 2,0 a 1,1 0 1,0 -2,0 Z",square:"M-0.88622,-0.88622L0.88622,-0.88622L0.88622,0.88622L-0.88622,0.88622Z",diamond:"M0,-1.25331L1.25331,0L0,1.25331L-1.25331,0Z",marker:"m0.004066,-2.757056c-0.466801,0 -0.84528,0.378395 -0.84528,0.845279c0,0.130754 0.029717,0.254741 0.082794,0.365187c0.00297,0.006277 0.762485,1.494428 0.762485,1.494428l0.753324,-1.475938c0.058773,-0.115068 0.091955,-0.245496 0.091955,-0.383677c0,-0.466885 -0.378395,-0.845279 -0.84528,-0.845279zm0,1.352447c-0.280083,0 -0.507168,-0.227169 -0.507168,-0.507168s0.227085,-0.507168 0.507168,-0.507168c0.279999,0 0.507167,0.227169 0.507167,0.507168s-0.227168,0.507168 -0.507167,0.507168z",hexagon:"M0,-1.09963 L 0.952436,-0.549815 l 0,1.09963 L 0,1.09963 L -0.952436,0.549815 l 0,-1.09963 Z",triangle_up:"M0,-1.16635 L 1.34677,1.16635 l-2.69354,0 Z",triangle_down:"M0,1.16635 L 1.34677,-1.16635 l-2.69354,0 Z"}[j.get("symbol-shape","circle")],A=8,z=j.axes(),F=z.area,t=j.get("tooltip.title")+"/"+j.get("tooltip.body"),D=Q(0,2*Math.PI,Math.PI/3),P=function(t){return t._x},L=function(t){return t._y};if(Zf&&Zf===j.get("basemap","bl")&&Wf&&Wf===t){if($f.svg){var n=j.get("max-map-height");(N[0]!==Xf[0]||N[1]!==Xf[1]||n!==Vf)&&(Xf=N,Vf=n,$f.resizeMap(N)),e()}If=!1}else c.innerHTML="",$(c).off("click").off("mousemove").off("mouseenter").off("mouseover"),Zf=j.get("basemap","bl"),Xf=N.slice(0),Vf=j.get("max-map-height"),Wf=t,j.initBaseMap(k,Zf,function(t){$f=t,e(),If=!1});function e(){var i,o=j.colorMap();if($f.data){$f.clearZoomLayer(),$f.setUserPadding(j.get("map-padding",0)/100),$f.g.selectAll("g.symbols").remove();var l,t=et(_.pluck(S,z.area)),p=F?j.get("cluster-aggregation"):"none",d=me().domain([0,t]).range([1,s]);j.axes().values&&(i=j.getColorScale("gradient")),S.forEach(function(t,n){var e=t[z.lat],r=t[z.lon],i=$f.proj([r,e]);null!==i&&null!==i[0]&&null!==i[1]&&(t._x=i[0],t._y=i[1],t._id="row-"+n,t._val=F?t[z.area]:1,t._r=F?+d(t[z.area]):+T)}),F&&(S=S.filter(function(t){return 0<t._val}));var g=$f.g.append("g.symbols");if($f.addZoomLayer("symbols",g,g.selectAll("g.symbol")),$f.onZoom(_.debounce(r,300)),r(),j.renderingComplete(),$(".map-key",c).remove(),i&&j.get("show-map-key",!1)){var n;if("number"===j.axes(!0).values.type()){var a=j.getFormat("map-key-format",j.axes(!0).values,".1f");n=!1===j.get("map-key-auto",!0)?""!==j.get("map-key-stops")?j.get("map-key-stops").split("\n").map(function(t){var n=(t=t.split(",")).length,e="";if(2<n)for(var r=1;r<n;r++)e=""===e?t[r]:e+","+t[r];else e=t[1];return t[0]=+t[0],{value:t[0],color:o(i(t[0])),label:void 0===t[1]?a(t[0]):e}}):null:ge().domain(function(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e<=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(e<r&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e<=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(e<r&&(r=e),i<e&&(i=e));return[r,i]}(j.axes(!0).values.values())).ticks(4).map(function(t){return{value:t,color:o(i(t)),label:a(t)}})}else{var e=[];S.forEach(function(t){t[z.values]&&-1===e.indexOf(t[z.values])&&e.push(t[z.values])}),n=e.filter(function(t){return void 0!==j.__categoryColors[t]}).map(function(t){return{value:t,label:t,color:o(j.__categoryColors[t])}})}!function(t){var n=R(k).append("div.map-key.map-key-"+j.get("map-key-position","br"));j.get("map-key-title")&&n.append("div.map-key-title.label").append("span").html(j.get("map-key-title"));var e=n.append("div.stops").selectAll(".stop").data(t).enter().append("div.stop");e.append("div.stop-swatch.export-rect").style("background",po("color")),e.append("div.stop-label.label").append("span").html(po("label"))}(n)}}function r(){var t,r,i,n=j.get("cluster-symbols",!1);$f.scale+.5>=$f.meta.maxZoom&&(n="none"),"noverlap"===n?l=function(t,n,e,r,i){var o,a,u,c,l,f,s,h,p,d,g,v,m,y,b,w,x,M,E,k,S,N,T,C,A,z=t.length,F=j.get("iterations",2);for(t=t.slice(0),r=j.get("tolerance",2),i=i||.8,n=n||"count",o=0;o<F;o++){for(z=t.length,c=0;c<z-1;c++)t[c]._r=e(t[c]),t[c]._overlaps=!1;for(t=t.sort(function(t,n){return n._r-t._r}),u=[],c=0;c<z;c++)if(!(l=t[c])._overlaps){for(f=l._r*(1-r)/$f.scale,s=l._x-f,h=l._x+f,p=l._y-f,d=l._y+f,g=[],v=c+1;v<=z-2;v++)(m=t[v])._overlaps||(M=m._r/$f.scale,y=m._x-M,b=m._x+M,w=m._y-M,x=m._y+M,h<y||b<s||d<w||x<p||(E=m._x-l._x,k=m._y-l._y,E*E+k*k<(f+M)*(f+M)&&(g.push(m),l._overlaps=!0,m._overlaps=!0)));if(g.length){g.push(l);var D={};for(S=[],a=0;a<g.length;a++)g[a]._cluster?S=S.concat(g[a]._symbols):S.push(g[a]);for(a=N=0;a<S.length;a++)N+=S[a]._r*S[a]._r,S[a]._in_cluster&&(S[a]._prev_cluster=S[a]._in_cluster),S[a]._in_cluster=D;for(D._val="none"===n?S.length:Gf[n](_.pluck(S,"_val")),T=A=0,a=0;a<S.length;a++)C=S[a]._r*S[a]._r/N,T+=S[a]._x*C,A+=S[a]._y*C;D._x=T,D._y=A,D._cluster=!0,D._symbols=_.unique(S),D._id=_.pluck(S,"_id").join("|"),D._r=e(D),u.unshift(D)}else l._in_cluster?(l._prev_cluster=l._in_cluster,l._in_cluster=!1):l._prev_cluster&&(l._prev_cluster=!1);u.push(l)}t=u}return t}(S,p,function(t){return t._cluster&&"none"===p?+j.get("cluster-radius",12)+A:+(F?d(t._val):T*t._val)}):"hexbin"===n?(t=S,r=p,i=function(t){return t._cluster&&"none"===p?+j.get("cluster-radius",12)+A:+(F?d(t._val):T*t._val)},l=function(){var u,g,v,c=1,l=1,m=P,y=L;function b(t){var d={};return t.forEach(function(t,n){var e=y.call(b,t,n)/v,r=Math.round(e),i=m.call(b,t,n)/g-(1&r?.5:0),o=Math.round(i),a=e-r;if(1<3*Math.abs(a)){var u=i-o,c=o+(i<o?-1:1)/2,l=r+(e<r?-1:1),f=i-c,s=e-l;f*f+s*s<u*u+a*a&&(o=c+(1&r?1:-1)/2,r=l)}var h=o+"-"+r,p=d[h];p?p.push(t):((p=d[h]=[t]).i=o,p.j=r,p.x=(o+(1&r?.5:0))*g,p.y=r*v)}),st(d)}function e(o){var a=0,u=0;return D.map(function(t){var n=Math.sin(t)*o,e=-Math.cos(t)*o,r=n-a,i=e-u;return a=n,u=e,[r,i]})}return b.x=function(t){return arguments.length?(m=t,b):m},b.y=function(t){return arguments.length?(y=t,b):y},b.hexagon=function(t){return arguments.length<1&&(t=u),"m"+e(t).join("l")+"z"},b.centers=function(){for(var t=[],n=0,e=!1,r=0;n<l+u;n+=v,e=!e,++r)for(var i=e?g/2:0,o=0;i<c+g/2;i+=g,++o){var a=[i,n];a.i=o,a.j=r,t.push(a)}return t},b.mesh=function(){var n=e(u).slice(0,4).join("l");return b.centers().map(function(t){return"M"+t+"m"+n}).join("")},b.size=function(t){return arguments.length?(c=+t[0],l=+t[1],b):[c,l]},b.radius=function(t){return arguments.length?(g=2*(u=+t)*Math.sin(Math.PI/3),v=1.5*u,b):u},b.radius(1)}().size([N[0],N[1]]).radius(j.get("hexbin-gridsize",15)/$f.scale)(t).map(function(t){var n="none"===r?t.length:Gf[r](_.pluck(t.slice(0),"_val")),e={_val:n,_x:t.x,_y:t.y,_cluster:!0,_symbols:t.slice(0),_id:"bin-"+_.pluck(t.slice(0),"_id").join("|")};return e._r=i(e),e})):(l=S).forEach(function(t){delete t._overlaps,t._in_cluster=!1,t._prev_cluster=!1});var e=g.selectAll("g.symbol").data(l,po("_id")),o=e.enter().append("g.symbol").style("opacity",function(t){return t._cluster?0:1});o.append("path.shape"),j.get("cluster-count")&&o.filter(v).append("text");var a=g.selectAll("g.symbol").classed("hexbin","hexbin"===n).classed("cluster",v).classed("nocluster",m);a.translate(b).style("display",function(t){return t._prev_cluster&&t._in_cluster?"none":"block"}).style("opacity",function(t){return t._prev_cluster?0:1}).each(function(t){R(this).classed("export-hide",t._overlaps)}).transition().duration(500).style("opacity",function(t){return t._overlaps?0:1}).on("end",function(t){R(this).style("display",t._overlaps?"none":"block")}),a.order(),a.select("path.shape").style("fill",w).style("stroke",x).style("stroke-width",M).style("stroke-opacity",E).attr("d",C).attr("transform",y),j.get("cluster-count")&&a.filter(v).select("text").text(function(t){return"+"+t._symbols.length}).attr("y",function(t){return.25*this.getBBox().height}),e.exit().transition().duration(500).style("opacity",0).remove(),$f.updateZoomLayerSelection("symbols",a),$f.fixZoom();var f=j.get("tooltip"),s=j.get("cluster-tooltip");if(f)try{f.title_tpl=_.template(f.title),f.body_tpl=_.template(f.body)}catch(t){f=!1}if(s)try{s.title_tpl=_.template(s.title),s.body_tpl=_.template(s.body)}catch(t){s=!1}if(f||s){$(".dw-tooltip",k).remove();var h=R(k).append("div.dw-tooltip").style("overflow-y","auto"),u=!1;a.on("mouseover",null).on("mousemove",null).on("mouseout",null).on("mouseover",function(t){t._cluster&&!s||!t._cluster&&!f||u||c(t)}).on("mousemove",function(t){t._cluster&&!s||!t._cluster&&!f||u||c(t,!0)}).on("mouseout",function(t){t._cluster&&!s||!t._cluster&&!f||u||h.style("visibility","hidden")}).on("click",function(t){t._cluster&&!s||!t._cluster&&!f||(c(t),u=u!==t&&t,a.classed("sticky",!1),R(this).classed("sticky",!1!==u))}),$f.svg.selectAll("g.map > *").on("click",function(){this.classList.contains("symbols")||(u=!1,a.classed("sticky",!1),h.style("visibility","hidden"))})}function c(n,t){var e=H(k);if(!t){var r={fmt:function(t,n){return af(n).format(t)}};n._cluster?(r.symbols=n._symbols,r.first=n._symbols[0]):ft(f.fields).forEach(function(t){r[t]=n[f.fields[t]]}),function(){var t=!1;try{t=window.parent&&void 0!==window.parent.dw}catch(t){}return t}()&&!n._cluster&&(r=Hf(r=Hf(r,f.body_tpl),f.title_tpl));var i='style = "margin-bottom:'+(f.body?'10px"':'0px"'),o=n._cluster?s:f,a="<div class=\"tooltip-warning\"'>Woops! There's a javascript error in your template:"+r.jsError+"</div>",u=r.jsError?a:o.body_tpl(r).replace(/\n\n/g,"<br>"),c=r.jsError?"":o.title_tpl(r),l=(o.title?"<h2 "+i+">"+c+"</h2>":"")+(o.body?u:n._cluster?n[z.values]:"");!l||""===u&&""===c||h.style("visibility","visible").html(l)}$f.sizeTooltip(e,k,h)}}function v(t){return t._cluster}function m(t){return!t._cluster}function u(t){return t._cluster?j.get("cluster-count")?Math.max(A+2,t._r-.5*A):Math.max(0,t._r-.5*A):t._r}function y(t){return"scale("+u(t)+")"}function b(t){return t.anchor=[t._x,t._y],t.anchor}function w(t){if(t._cluster){var n=j.get("cluster-color-aggr","none");if("none"!==n&&i){var e=Gf[n](_.pluck(t._symbols,j.axes().values));return o(t._color=i(e))}return o(t._color=h("cluster-color",f.colors.palette[0]))}return o(t._color=i?i(t[j.axes().values]):h("symbol-color",f.colors.palette[0]))}function x(t){return o(t._cluster?t._color:on(t._color).darker()+"")}function M(t){var n=qf(j.theme(),"vis.d3-maps-symbols.symbols.stroke.default.width",2);return(t._cluster&&"hexbin"!==j.get("cluster-symbols")?A:n)/u(t)}function E(t){var n=qf(j.theme(),"vis.d3-maps-symbols.symbols.stroke.default.opacity",0);return t._cluster?.5:n}}function h(t,n){var e=j.get(t,n);return _.isNumber(e)?f.colors.palette[e]:e}},reset:function(){}})}();
//# sourceMappingURL=d3-maps-symbols.js.map
